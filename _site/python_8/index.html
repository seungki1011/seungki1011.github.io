<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="/assets/images/logo.png">

<title>Python - 8(Exception, Logging) | Seungki1011's Dev Blog</title>

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Python - 8(Exception, Logging) | Seungki1011’s Dev Blog</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Python - 8(Exception, Logging)" />
<meta name="author" content="seungki" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Exception 예외는 예상이 가능한 예외와 불가능한 예외가 있다 예상 가능한 예외 사전에 인지할 수 있는 예외 사용자의 잘못된 입력 또는 파일 호출 시 파일이 없는 경우 등 개발자가 반드시 명시적으로 정의 해야함 예상 불가능한 예외 인터프리터 과정에서 발생하는 예외, 개발자 실수 리스트의 범위를 넘어가는 값 호출, 정수를 0으로 나누기 등 수행 불가시 인터프리터가 자동 호출 예외 처리 예외가 발생할 경우 후속 조치가 필요 없는 파일 호출 - 파일이 없다는 것을 알림 게임 이상 종료 - 게임 정보를 저장함 Exception handling try ~ except 1 2 3 4 try: # 예외 발생 가능한 코드 except &lt;Exception Type&gt;: # 예외 발생시 대응하는 코드 try ~ except example 0으로 숫자를 나눌 때 예외처리 하기 1 2 3 4 5 for i in range(5): try: print(10/i) except ZeroDivisionError: print(&quot;do not divide by 0&quot;) 1 2 3 4 5 do not divide by 0 10.0 5.0 3.3333333333333335 2.5 보통 맨 끝에는 Exception을 달아줌, 모든 예외를 나타내기에는 좋은 코드는 아님 1 2 3 4 5 6 7 for i in range(5): try: print(10/i) except ZeroDivisionError: print(&quot;do not divide by 0&quot;) except Exception as e: print(e) exception의 종류 built-in exception : 기본적으로 제공하는 예외 IndexError : list의 index범위를 넘어가는 경우 NameError : 존재하지 않는 변수를 호출 할 때 ZeroDivisionError : 0으로 숫자를 나눌 때 ValueError : 변환할 수 없는 문자/숫자를 변환할 때 FileNotFoundError : 존재하지 않는 파일을 호출할 때 예외 정보 표시하기 1 2 3 4 5 6 for i in range(5): try: print(10/i) except ZeroDivisionError as e: print(e) print(&quot;do not divide by 0&quot;) 1 2 3 4 5 6 division by zero do not divide by 0 10.0 5.0 3.3333333333333335 2.5 try ~ except ~ else 1 2 3 4 5 6 try: # 예외 발생 가능 코드 except &lt;Exception Type&gt;: # 예외 발생시 동작하는 코드 else: # 예외가 발생하지 않을 때 동작하는 코드 try ~ except ~ else example 1 2 3 4 5 6 7 for i in range(5): try: result = 10/i except ZeroDivisionError: print(&quot;do not divide by 0&quot;) else: print(result) 1 2 3 4 5 do not divide by 0 10.0 5.0 3.3333333333333335 2.5 try ~ except ~ finally 1 2 3 4 5 6 try: # 예외 발생 가능 코드 except &lt;Exception Type&gt;: # 예외 발생시 동작하는 코드 finally: # 예외 발생 여부와 상관없이 실행 try ~ except ~ finally example 1 2 3 4 5 6 7 8 try: for i in range(1,5): result = 10/i print(result) except ZeroDivisionError: print(&quot;do not divide by 0&quot;) finally: print(&quot;종료되었습니다&quot;) 1 2 3 4 5 10.0 5.0 3.3333333333333335 2.5 종료되었습니다 raise 필요에 따라 강제로 예외 발생 1 raise &lt;Exception Type&gt;(예외정보) raise example 1 2 3 4 5 6 while True: value=input(&quot;변환할 정수를 입력해주세요 : &quot;) for digit in value: if digit not in &quot;0123456789&quot;: raise ValueError(&quot;숫자값을 입력하지 않았습니다&quot;) print(&quot;정수값으로 변환된 숫자 : &quot;, int(value)) 1 2 3 4 5 6 7 8 9 10 변환할 정수를 입력해주세요 : a --------------------------------------------------------------------------- ValueError Traceback (most recent call last) ~\AppData\Local\Temp\ipykernel_10184\4244621495.py in &lt;module&gt; 3 for digit in value: 4 if digit not in &quot;0123456789&quot;: ----&gt; 5 raise ValueError(&quot;숫자값을 입력하지 않았습니다&quot;) 6 print(&quot;정수값으로 변환된 숫자 : &quot;, int(value)) ValueError: 숫자값을 입력하지 않았습니다 assert 특정 조건에 만족하지 않을 경우 예외 발생 1 assert 예외조건 assert example 1 2 3 4 5 def get_binary_number(decimal_number): assert isinstance(decimal_number, int) return bin(decimal_number) print(get_binary_number(10)) 1 0b1010 1 print(get_binary_number(&quot;sadf&quot;)) 1 2 3 4 5 6 7 8 9 10 11 12 13 --------------------------------------------------------------------------- AssertionError Traceback (most recent call last) ~\AppData\Local\Temp\ipykernel_10184\488716815.py in &lt;module&gt; ----&gt; 1 print(get_binary_number(&quot;sadf&quot;)) ~\AppData\Local\Temp\ipykernel_10184\3506293914.py in get_binary_number(decimal_number) 1 def get_binary_number(decimal_number): ----&gt; 2 assert isinstance(decimal_number, int) 3 return bin(decimal_number) 4 5 print(get_binary_number(10)) AssertionError: python file i/o 파이썬은 파일 처리를 위해 open 키워드 사용 1 2 f=open(&quot;&lt;파일이름&gt;&quot;,&quot;접근모드&quot;) f.close() 파일열기 모드 r , 읽기모드 - 파일을 읽기만 할 때 사용 w, 쓰기모드 - 파일에 내용을 쓸 때 사용 a, 추가모드 - 파일의 마지막에 새로운 내용을 추가 시킬 때 사용 File read read() - txt 파일 안에 있는 내용을 문자열로 반환 1 2 3 4 5 # 대상파일이 같은 폴더에 있을 경우 f = open(&quot;practice_text.txt&quot;, &quot;r&quot;) contents=f.read() print(contents) f.close() 1 2 3 4 5 6 7 this is sentence 1 this is sentence 2 this is sentence 3 this is sentence 4 this is sentence 5 this is sentence 6 bye bye~ with 구문과 함께 사용하는 경우 indentation에서 벗어나면 close 1 2 3 4 # with 구문과 함께 사용하기 with open(&quot;practice_text.txt&quot;,&quot;r&quot;) as my_file: contents=my_file.read() print(type(contents), contents) 1 2 3 4 5 6 7 &lt;class &#39;str&#39;&gt; this is sentence 1 this is sentence 2 this is sentence 3 this is sentence 4 this is sentence 5 this is sentence 6 bye bye~ 한 줄씩 읽어서 list type으로 반환 1 2 3 4 5 # 한 줄씩 읽어서 list type으로 반환 with open(&quot;practice_text.txt&quot;,&quot;r&quot;) as my_file: content_list=my_file.readlines() # 파일 전체를 list로 반환 print(type(content_list)) print(content_list) 1 2 &lt;class &#39;list&#39;&gt; [&#39;this is sentence 1\n&#39;, &#39;this is sentence 2\n&#39;, &#39;this is sentence 3\n&#39;, &#39;this is sentence 4\n&#39;, &#39;this is sentence 5\n&#39;, &#39;this is sentence 6\n&#39;, &#39;bye bye~&#39;] 실행 시 마다 한 줄씩 읽어 오기 그 때 마다 메모리에 올림 1 2 3 4 5 6 7 8 9 # 실행 시 마다 한 줄 씩 읽어 오기 with open(&quot;practice_text.txt&quot;,&quot;r&quot;) as my_file: i=0 while True: line=my_file.readline() # 한 줄 씩, readlines()와 다름 if not line: break print(str(i)+&quot;===&quot;+line.replace(&quot;\n&quot;,&quot;&quot;)) # 한 줄씩 값 출력 i+=1 1 2 3 4 5 6 7 0===this is sentence 1 1===this is sentence 2 2===this is sentence 3 3===this is sentence 4 4===this is sentence 5 5===this is sentence 6 6===bye bye~ File write 인코딩은 utf8 1 2 3 4 5 f=open(&quot;count_log.txt&quot;,&quot;w&quot;,encoding=&quot;utf8&quot;) for i in range(1,11): data=f&quot;{i} 번째 줄입니다. \n&quot; f.write(data) f.close() count_log.txt 1 2 3 4 5 6 7 8 9 10 1 번째 줄입니다. 2 번째 줄입니다. 3 번째 줄입니다. 4 번째 줄입니다. 5 번째 줄입니다. 6 번째 줄입니다. 7 번째 줄입니다. 8 번째 줄입니다. 9 번째 줄입니다. 10 번째 줄입니다. 추가 모드 “a” 1 2 3 4 5 f=open(&quot;count_log.txt&quot;,&quot;a&quot;,encoding=&quot;utf8&quot;) for i in range(1,4): data=f&quot;{i} 번째 추가된 줄입니다. \n&quot; f.write(data) f.close() 1 2 3 4 5 6 7 8 9 10 11 12 13 1 번째 줄입니다. 2 번째 줄입니다. 3 번째 줄입니다. 4 번째 줄입니다. 5 번째 줄입니다. 6 번째 줄입니다. 7 번째 줄입니다. 8 번째 줄입니다. 9 번째 줄입니다. 10 번째 줄입니다. 1 번째 추가된 줄입니다. 2 번째 추가된 줄입니다. 3 번째 추가된 줄입니다. 파이썬 directory os 모듈을 사용하여 디렉토리 다루기 1 2 import os os.mkdir(&quot;log&quot;) # 현재주소에서 log라는 폴더 생성 디렉토리가 있는지 확인하기 1 2 3 if not os.path.isdir(&quot;log2&quot;): # log2라는 디렉토리가 없으면 메세지 출력후 디렉토리 생성 print(&quot;log2 is made&quot;) os.mksir(&quot;log2&quot;) 1 log2 is made 디렉토리가 존재하면 사용하는 예외처리 1 2 3 4 try: os.mkdir(&quot;log&quot;) except FileExistsError as e: print(&quot;already created&quot;) 1 already created os.path.exists() 1 os.path.exists(&quot;log&quot;) # 존재하면 True 반환 1 True shutil.copy() - 파일 복사 1 2 3 4 5 6 import shutil source = &quot;count_log.txt&quot; dest = os.path.join(&quot;log&quot;,&quot;empty_log.txt&quot;) # join 사용 권장 shutil.copy(source,dest) # dest에서 log 폴더에 empty_log.txt를 만들고 source를 empty_log에 1 &#39;log\\empty_log.txt&#39; pathlib 모듈을 사용해서 path를 객체로 다룸 1 2 3 4 5 import pathlib cwd = pathlib.Path.cwd() print(cwd) print(cwd.parent) print(cwd.parent.parent) 1 2 3 C:\Users\KIMSEUNGKI\python_practice C:\Users\KIMSEUNGKI C:\Users 1 print(list(cwd.parents)) 1 [WindowsPath(&#39;C:/Users/KIMSEUNGKI&#39;), WindowsPath(&#39;C:/Users&#39;), WindowsPath(&#39;C:/&#39;)] Log 파일 생성하기 디렉토리의 유무, 파일의 유무 확인 후 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import os if not os.path.isdir(&quot;log&quot;): os.mkdir(&quot;log&quot;) if not os.path.exists(&quot;log\count_log.txt&quot;): f=open(&quot;log\count_log.txt&quot;,&quot;w&quot;,encoding=&quot;utf8&quot;) f.write(&quot;기록이 시작됩니다\n&quot;) f.close f=open(&quot;log\count_log.txt&quot;,&quot;a&quot;,encoding=&quot;utf8&quot;) import random, datetime for i in range(1,5): stamp=str(datetime.datetime.now()) value=random.random()*1000000 log_line=stamp+&quot;\t&quot;+str(value)+&quot;값이 생성되었습니다&quot;+&quot;\n&quot; f.write(log_line) f.close() log\count_log.txt 1 2 3 4 5 기록이 시작됩니다 2023-03-05 16:22:16.344776 172857.09505431302값이 생성되었습니다 2023-03-05 16:22:16.344776 833191.7616896472값이 생성되었습니다 2023-03-05 16:22:16.344776 430916.5337239962값이 생성되었습니다 2023-03-05 16:22:16.344776 635487.9829742208값이 생성되었습니다 Pickle 파이썬 객체를 영속화(persistence)하는 built-in 객체 데이터, object 등 실행중 정보를 저장하고 불러와서 사용한다 저장해야하는 정보, 계산 결과(모델) 등 활용이 많음 1 2 3 4 5 6 7 8 9 10 11 import pickle f=open(&quot;list.pickle&quot;,&quot;wb&quot;) test=[1,2,3,4,5] pickle.dump(test,f) f.close() f=open(&quot;list.pickle&quot;,&quot;rb&quot;) test_pickle=pickle.load(f) print(test_pickle) f.close() 1 [1, 2, 3, 4, 5] Logging Handling Logging - 로그 남기기 프로그램이 실행되는 동안 일어나는 정보를 기록으로 남기기 유저의 접근, 프로그램의 예외, 특정 함수의 사용 등 console 화면에 출력, 파일에 남기기, DB에 남기기 등 기록된 로그를 분석하여 의미있는 결과를 도출 할 수 있음 실행시점에서 남겨야하는 기록, 개발시점에서 남겨야하는 기록 Print vs Logging 기록을 print로 남기는 것도 가능은 함 그러나 console 창에만 남기는 기록은 분석시 사용 불가 때로는 레벨별(개발, 운영)로 기록을 남길 필요도 있음 모듈별로 별도의 logging을 남길 필요도 있음 이런 기능을 체계적으로 지원하는 모듈이 필요함 Logging module 파이썬의 기본 Log 관리 모듈 1 2 3 4 5 6 7 import logging logging.debug(&quot;틀렸습니다&quot;) logging.info(&quot;확인해주세요&quot;) logging.warning(&quot;주의해주세요&quot;) # 파이썬의 기본 logging level은 warning부터 시작 logging.error(&quot;에러입니다&quot;) logging.critical(&quot;심각한 문제&quot;) 1 2 3 WARNING:root:주의해주세요 ERROR:root:에러입니다 CRITICAL:root:심각한 문제 Logging Level 프로그램 진행 상황에 따라 다른 Level의 Log를 출력함 개발 시점, 운영 시점 마다 다른 Log가 남을 수 있도록 지원함 Debug &gt; Info &gt; Warning &gt; Error &gt; Critical Log 관리시 가장 기본이 되는 설정 정보 1 2 3 4 5 6 7 8 9 10 11 12 13 import logging if __name__==&quot;__main__&quot;: # logger = logging.getLogger(&quot;main&quot;) logging.basicConfig(level=logging.DEBUG) # logging level을 DEBUG로 셋팅 # logger.setLevel(logging.WARNING) logger.debug(&quot;틀렸습니다&quot;) logger.info(&quot;확인해주세요&quot;) logger.warning(&quot;주의해주세요&quot;) logger.error(&quot;에러입니다&quot;) logger.critical(&quot;심각한 문제&quot;) 1 2 3 4 5 DEBUG:root:틀렸습니다 INFO:root:확인해주세요 WARNING:root:주의해주세요 ERROR:root:에러입니다 CRITICAL:root:심각한 문제 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import logging if __name__==&quot;__main__&quot;: logger = logging.getLogger(&quot;main&quot;) logging.basicConfig(level=logging.DEBUG) # logging level을 DEBUG로 셋팅 logger.setLevel(logging.WARNING) # WARNING level 부터 log 출력 steam_handler = logging.FileHandler(&quot;my.log&quot;, mode=&quot;a&quot;,encoding=&quot;utf8&quot;) # my.log 라는 파일에 로그내용 추가 logger.addHandler(steam_handler) logger.debug(&quot;틀렸습니다&quot;) logger.info(&quot;확인해주세요&quot;) logger.warning(&quot;주의해주세요&quot;) logger.error(&quot;에러입니다&quot;) logger.critical(&quot;심각한 문제&quot;) 1 2 3 WARNING:main:주의해주세요 ERROR:main:에러입니다 CRITICAL:main:심각한 문제 Logging을 위한 사전 셋팅 실제 프로그램을 실행할 땐 여러가지 설정이 필요 데이터 파일의 위치, 파일 저장 장소, Operation Type 같은 정보를 설정 해줄 방법이 필요 Configparser 프로그램의 실행 설정을 file에 저장함 section, key, value 값의 형태로 설정된 설정 파일을 사용 설정파일을 Dict type으로 호출후 사용 example.cfg 1 2 3 4 5 6 7 8 9 [SectionOne] Status: Single Name: Derek Value: Yes Age: 30 Single: True [SectionTwo] FavoriteColor = Green 1 2 3 4 5 6 7 8 9 10 11 12 13 import configparser config = configparser.ConfigParser() config.sections() config.read(&quot;example.cfg&quot;) config.sections() for key in config[&quot;SectionOne&quot;]: value = config[&quot;SectionOne&quot;][key] print(key, value) config[&quot;SectionOne&quot;][&quot;status&quot;] 1 2 3 4 5 6 status Single name Derek value Yes age 30 single True &#39;Single&#39; Argparser console 창에서 프로그램 실행시 Setting 정보를 저장함 거의 모든 console 기반 파이썬 프로그램 기본으로 제공 특수 모듈도 많이 존재하지만, 일반적으로 argparser 사용 Command Line Option 이라고 부름 콘솔에서 특정 argument에 따라 특정 옵션을 주는 것을 볼 수 있음 arg_sum.py 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 import argparse parser = argparse.ArgumentParser(description=&quot;sum two integers&quot;) parser.add_argument( &quot;-a&quot;, &quot;--a_value&quot;, dest=&quot;a&quot;, help=&quot;A integer&quot;, type=int, required=True ) parser.add_argument( &quot;-b&quot;, &quot;--b_value&quot;, # 짧은 이름, 긴 이름 dest=&quot;b&quot;, help=&quot;B integer&quot;, type=int, # 표시명, 설명, argument type required=True ) args = parser.parse_args() print(args) print(args.a) print(args.b) print(args.a+args.b) argparser example 사용자가 미리 설정을 만들어서 실험이 가능함 1 2 3 4 5 6 7 8 9 10 11 12 13 14 def main(): parser = argparse.ArgumentParser(description=&#39;PyTorch MNIST Example&#39;) parser.add_argument(&#39;--batch-size&#39;, type=int, default=64, metavar=&#39;N&#39;, help=&#39;input batch size for training (default: 64)&#39;) parser.add_argument(&#39;--test-batch-size&#39;, type=int, default=1000, metavar=&#39;N&#39;, help=&#39;input batch size for testing (default: 1000)&#39;) parser.add_argument(&#39;--epochs&#39;, type=int, default=10, metavar=&#39;N&#39;, help=&#39;number of epochs to train (default: 10)&#39;) parser.add_argument(&#39;--lr&#39;, type=fl0at, default=0.01, metavar=&#39;LR&#39;, help=&#39;learning rate (default: 0.01 )&#39;) parser.add_argument(&#39;--momentum&#39;, type=fl0at, default=0.5, metavar=&#39;M&#39;, help=&#39;SGD momentum (default: O.5)&#39;) parser.add_argument(&#39;--no-cuda&#39;, action=&#39;store_true&#39;, default=False, help=&#39;disables CUDA training&#39;) parser.add_argument(‘--seed&#39;, type=int, default=1, metavar=&#39;S&#39;, help=&#39;random seed (default: 1)&#39;) parser.add_argument(&#39;--save-model&#39;, action=&#39;store_true&#39;, default=False, help=&#39;For Saving the current Model&#39;) args = parser.parse_args() if _name_ == &#39;_main_&#39;: main() Logging 적용하기 Logging formatter Log의 결과값의 format을 지정해줄 수 있음 1 2 3 import logging formatter = logging.Formatter(&quot;%(asctime)s %(levelname)s %(process)d %(message)s&quot;) 1 2 3 4 5 6 7 2018-01-18 22:47:04,385 ERROR 4410 ERROR occurred 2018-01-18 22:47:22,458 ERROR 4439 ERROR occurred 2018-01-18 22:47:22,458 INFO 4439 HERE WE ARE 2018-01-18 22:47:24,680 ERROR 4443 ERROR occurred 2018-01-18 22:47:24,681 INFO 4443 HERE WE ARE 2018-01-18 22:47:24,970 ERROR 4445 ERROR occurred 2018-01-18 22:47:24,970 INFO 4445 HERE WE ARE Log config file logging.conf 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 [loggers] keys=root [handlers] keys=consoleHandler [formatters] keys=simpleFormatter [logger_root] level=DEBUG handlers=consoleHandler [handler_consoleHandler] class=StreamHandler level=DEBUG formatter=simpleFormatter args=(sys.stdout,) [formatter_simpleFormatter] format=%(asctime)s - %(levelname)s - %(process)d - %(message)s datefmt=%m/%d/%Y %I:%M:%S %p 1 2 logging.config.fileConfig(&quot;logging.conf&quot;) logger=logging.getLogger() 참고 boostcourse - 머신러닝을 위한 파이썬 Python documentation" />
<meta property="og:description" content="Exception 예외는 예상이 가능한 예외와 불가능한 예외가 있다 예상 가능한 예외 사전에 인지할 수 있는 예외 사용자의 잘못된 입력 또는 파일 호출 시 파일이 없는 경우 등 개발자가 반드시 명시적으로 정의 해야함 예상 불가능한 예외 인터프리터 과정에서 발생하는 예외, 개발자 실수 리스트의 범위를 넘어가는 값 호출, 정수를 0으로 나누기 등 수행 불가시 인터프리터가 자동 호출 예외 처리 예외가 발생할 경우 후속 조치가 필요 없는 파일 호출 - 파일이 없다는 것을 알림 게임 이상 종료 - 게임 정보를 저장함 Exception handling try ~ except 1 2 3 4 try: # 예외 발생 가능한 코드 except &lt;Exception Type&gt;: # 예외 발생시 대응하는 코드 try ~ except example 0으로 숫자를 나눌 때 예외처리 하기 1 2 3 4 5 for i in range(5): try: print(10/i) except ZeroDivisionError: print(&quot;do not divide by 0&quot;) 1 2 3 4 5 do not divide by 0 10.0 5.0 3.3333333333333335 2.5 보통 맨 끝에는 Exception을 달아줌, 모든 예외를 나타내기에는 좋은 코드는 아님 1 2 3 4 5 6 7 for i in range(5): try: print(10/i) except ZeroDivisionError: print(&quot;do not divide by 0&quot;) except Exception as e: print(e) exception의 종류 built-in exception : 기본적으로 제공하는 예외 IndexError : list의 index범위를 넘어가는 경우 NameError : 존재하지 않는 변수를 호출 할 때 ZeroDivisionError : 0으로 숫자를 나눌 때 ValueError : 변환할 수 없는 문자/숫자를 변환할 때 FileNotFoundError : 존재하지 않는 파일을 호출할 때 예외 정보 표시하기 1 2 3 4 5 6 for i in range(5): try: print(10/i) except ZeroDivisionError as e: print(e) print(&quot;do not divide by 0&quot;) 1 2 3 4 5 6 division by zero do not divide by 0 10.0 5.0 3.3333333333333335 2.5 try ~ except ~ else 1 2 3 4 5 6 try: # 예외 발생 가능 코드 except &lt;Exception Type&gt;: # 예외 발생시 동작하는 코드 else: # 예외가 발생하지 않을 때 동작하는 코드 try ~ except ~ else example 1 2 3 4 5 6 7 for i in range(5): try: result = 10/i except ZeroDivisionError: print(&quot;do not divide by 0&quot;) else: print(result) 1 2 3 4 5 do not divide by 0 10.0 5.0 3.3333333333333335 2.5 try ~ except ~ finally 1 2 3 4 5 6 try: # 예외 발생 가능 코드 except &lt;Exception Type&gt;: # 예외 발생시 동작하는 코드 finally: # 예외 발생 여부와 상관없이 실행 try ~ except ~ finally example 1 2 3 4 5 6 7 8 try: for i in range(1,5): result = 10/i print(result) except ZeroDivisionError: print(&quot;do not divide by 0&quot;) finally: print(&quot;종료되었습니다&quot;) 1 2 3 4 5 10.0 5.0 3.3333333333333335 2.5 종료되었습니다 raise 필요에 따라 강제로 예외 발생 1 raise &lt;Exception Type&gt;(예외정보) raise example 1 2 3 4 5 6 while True: value=input(&quot;변환할 정수를 입력해주세요 : &quot;) for digit in value: if digit not in &quot;0123456789&quot;: raise ValueError(&quot;숫자값을 입력하지 않았습니다&quot;) print(&quot;정수값으로 변환된 숫자 : &quot;, int(value)) 1 2 3 4 5 6 7 8 9 10 변환할 정수를 입력해주세요 : a --------------------------------------------------------------------------- ValueError Traceback (most recent call last) ~\AppData\Local\Temp\ipykernel_10184\4244621495.py in &lt;module&gt; 3 for digit in value: 4 if digit not in &quot;0123456789&quot;: ----&gt; 5 raise ValueError(&quot;숫자값을 입력하지 않았습니다&quot;) 6 print(&quot;정수값으로 변환된 숫자 : &quot;, int(value)) ValueError: 숫자값을 입력하지 않았습니다 assert 특정 조건에 만족하지 않을 경우 예외 발생 1 assert 예외조건 assert example 1 2 3 4 5 def get_binary_number(decimal_number): assert isinstance(decimal_number, int) return bin(decimal_number) print(get_binary_number(10)) 1 0b1010 1 print(get_binary_number(&quot;sadf&quot;)) 1 2 3 4 5 6 7 8 9 10 11 12 13 --------------------------------------------------------------------------- AssertionError Traceback (most recent call last) ~\AppData\Local\Temp\ipykernel_10184\488716815.py in &lt;module&gt; ----&gt; 1 print(get_binary_number(&quot;sadf&quot;)) ~\AppData\Local\Temp\ipykernel_10184\3506293914.py in get_binary_number(decimal_number) 1 def get_binary_number(decimal_number): ----&gt; 2 assert isinstance(decimal_number, int) 3 return bin(decimal_number) 4 5 print(get_binary_number(10)) AssertionError: python file i/o 파이썬은 파일 처리를 위해 open 키워드 사용 1 2 f=open(&quot;&lt;파일이름&gt;&quot;,&quot;접근모드&quot;) f.close() 파일열기 모드 r , 읽기모드 - 파일을 읽기만 할 때 사용 w, 쓰기모드 - 파일에 내용을 쓸 때 사용 a, 추가모드 - 파일의 마지막에 새로운 내용을 추가 시킬 때 사용 File read read() - txt 파일 안에 있는 내용을 문자열로 반환 1 2 3 4 5 # 대상파일이 같은 폴더에 있을 경우 f = open(&quot;practice_text.txt&quot;, &quot;r&quot;) contents=f.read() print(contents) f.close() 1 2 3 4 5 6 7 this is sentence 1 this is sentence 2 this is sentence 3 this is sentence 4 this is sentence 5 this is sentence 6 bye bye~ with 구문과 함께 사용하는 경우 indentation에서 벗어나면 close 1 2 3 4 # with 구문과 함께 사용하기 with open(&quot;practice_text.txt&quot;,&quot;r&quot;) as my_file: contents=my_file.read() print(type(contents), contents) 1 2 3 4 5 6 7 &lt;class &#39;str&#39;&gt; this is sentence 1 this is sentence 2 this is sentence 3 this is sentence 4 this is sentence 5 this is sentence 6 bye bye~ 한 줄씩 읽어서 list type으로 반환 1 2 3 4 5 # 한 줄씩 읽어서 list type으로 반환 with open(&quot;practice_text.txt&quot;,&quot;r&quot;) as my_file: content_list=my_file.readlines() # 파일 전체를 list로 반환 print(type(content_list)) print(content_list) 1 2 &lt;class &#39;list&#39;&gt; [&#39;this is sentence 1\n&#39;, &#39;this is sentence 2\n&#39;, &#39;this is sentence 3\n&#39;, &#39;this is sentence 4\n&#39;, &#39;this is sentence 5\n&#39;, &#39;this is sentence 6\n&#39;, &#39;bye bye~&#39;] 실행 시 마다 한 줄씩 읽어 오기 그 때 마다 메모리에 올림 1 2 3 4 5 6 7 8 9 # 실행 시 마다 한 줄 씩 읽어 오기 with open(&quot;practice_text.txt&quot;,&quot;r&quot;) as my_file: i=0 while True: line=my_file.readline() # 한 줄 씩, readlines()와 다름 if not line: break print(str(i)+&quot;===&quot;+line.replace(&quot;\n&quot;,&quot;&quot;)) # 한 줄씩 값 출력 i+=1 1 2 3 4 5 6 7 0===this is sentence 1 1===this is sentence 2 2===this is sentence 3 3===this is sentence 4 4===this is sentence 5 5===this is sentence 6 6===bye bye~ File write 인코딩은 utf8 1 2 3 4 5 f=open(&quot;count_log.txt&quot;,&quot;w&quot;,encoding=&quot;utf8&quot;) for i in range(1,11): data=f&quot;{i} 번째 줄입니다. \n&quot; f.write(data) f.close() count_log.txt 1 2 3 4 5 6 7 8 9 10 1 번째 줄입니다. 2 번째 줄입니다. 3 번째 줄입니다. 4 번째 줄입니다. 5 번째 줄입니다. 6 번째 줄입니다. 7 번째 줄입니다. 8 번째 줄입니다. 9 번째 줄입니다. 10 번째 줄입니다. 추가 모드 “a” 1 2 3 4 5 f=open(&quot;count_log.txt&quot;,&quot;a&quot;,encoding=&quot;utf8&quot;) for i in range(1,4): data=f&quot;{i} 번째 추가된 줄입니다. \n&quot; f.write(data) f.close() 1 2 3 4 5 6 7 8 9 10 11 12 13 1 번째 줄입니다. 2 번째 줄입니다. 3 번째 줄입니다. 4 번째 줄입니다. 5 번째 줄입니다. 6 번째 줄입니다. 7 번째 줄입니다. 8 번째 줄입니다. 9 번째 줄입니다. 10 번째 줄입니다. 1 번째 추가된 줄입니다. 2 번째 추가된 줄입니다. 3 번째 추가된 줄입니다. 파이썬 directory os 모듈을 사용하여 디렉토리 다루기 1 2 import os os.mkdir(&quot;log&quot;) # 현재주소에서 log라는 폴더 생성 디렉토리가 있는지 확인하기 1 2 3 if not os.path.isdir(&quot;log2&quot;): # log2라는 디렉토리가 없으면 메세지 출력후 디렉토리 생성 print(&quot;log2 is made&quot;) os.mksir(&quot;log2&quot;) 1 log2 is made 디렉토리가 존재하면 사용하는 예외처리 1 2 3 4 try: os.mkdir(&quot;log&quot;) except FileExistsError as e: print(&quot;already created&quot;) 1 already created os.path.exists() 1 os.path.exists(&quot;log&quot;) # 존재하면 True 반환 1 True shutil.copy() - 파일 복사 1 2 3 4 5 6 import shutil source = &quot;count_log.txt&quot; dest = os.path.join(&quot;log&quot;,&quot;empty_log.txt&quot;) # join 사용 권장 shutil.copy(source,dest) # dest에서 log 폴더에 empty_log.txt를 만들고 source를 empty_log에 1 &#39;log\\empty_log.txt&#39; pathlib 모듈을 사용해서 path를 객체로 다룸 1 2 3 4 5 import pathlib cwd = pathlib.Path.cwd() print(cwd) print(cwd.parent) print(cwd.parent.parent) 1 2 3 C:\Users\KIMSEUNGKI\python_practice C:\Users\KIMSEUNGKI C:\Users 1 print(list(cwd.parents)) 1 [WindowsPath(&#39;C:/Users/KIMSEUNGKI&#39;), WindowsPath(&#39;C:/Users&#39;), WindowsPath(&#39;C:/&#39;)] Log 파일 생성하기 디렉토리의 유무, 파일의 유무 확인 후 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import os if not os.path.isdir(&quot;log&quot;): os.mkdir(&quot;log&quot;) if not os.path.exists(&quot;log\count_log.txt&quot;): f=open(&quot;log\count_log.txt&quot;,&quot;w&quot;,encoding=&quot;utf8&quot;) f.write(&quot;기록이 시작됩니다\n&quot;) f.close f=open(&quot;log\count_log.txt&quot;,&quot;a&quot;,encoding=&quot;utf8&quot;) import random, datetime for i in range(1,5): stamp=str(datetime.datetime.now()) value=random.random()*1000000 log_line=stamp+&quot;\t&quot;+str(value)+&quot;값이 생성되었습니다&quot;+&quot;\n&quot; f.write(log_line) f.close() log\count_log.txt 1 2 3 4 5 기록이 시작됩니다 2023-03-05 16:22:16.344776 172857.09505431302값이 생성되었습니다 2023-03-05 16:22:16.344776 833191.7616896472값이 생성되었습니다 2023-03-05 16:22:16.344776 430916.5337239962값이 생성되었습니다 2023-03-05 16:22:16.344776 635487.9829742208값이 생성되었습니다 Pickle 파이썬 객체를 영속화(persistence)하는 built-in 객체 데이터, object 등 실행중 정보를 저장하고 불러와서 사용한다 저장해야하는 정보, 계산 결과(모델) 등 활용이 많음 1 2 3 4 5 6 7 8 9 10 11 import pickle f=open(&quot;list.pickle&quot;,&quot;wb&quot;) test=[1,2,3,4,5] pickle.dump(test,f) f.close() f=open(&quot;list.pickle&quot;,&quot;rb&quot;) test_pickle=pickle.load(f) print(test_pickle) f.close() 1 [1, 2, 3, 4, 5] Logging Handling Logging - 로그 남기기 프로그램이 실행되는 동안 일어나는 정보를 기록으로 남기기 유저의 접근, 프로그램의 예외, 특정 함수의 사용 등 console 화면에 출력, 파일에 남기기, DB에 남기기 등 기록된 로그를 분석하여 의미있는 결과를 도출 할 수 있음 실행시점에서 남겨야하는 기록, 개발시점에서 남겨야하는 기록 Print vs Logging 기록을 print로 남기는 것도 가능은 함 그러나 console 창에만 남기는 기록은 분석시 사용 불가 때로는 레벨별(개발, 운영)로 기록을 남길 필요도 있음 모듈별로 별도의 logging을 남길 필요도 있음 이런 기능을 체계적으로 지원하는 모듈이 필요함 Logging module 파이썬의 기본 Log 관리 모듈 1 2 3 4 5 6 7 import logging logging.debug(&quot;틀렸습니다&quot;) logging.info(&quot;확인해주세요&quot;) logging.warning(&quot;주의해주세요&quot;) # 파이썬의 기본 logging level은 warning부터 시작 logging.error(&quot;에러입니다&quot;) logging.critical(&quot;심각한 문제&quot;) 1 2 3 WARNING:root:주의해주세요 ERROR:root:에러입니다 CRITICAL:root:심각한 문제 Logging Level 프로그램 진행 상황에 따라 다른 Level의 Log를 출력함 개발 시점, 운영 시점 마다 다른 Log가 남을 수 있도록 지원함 Debug &gt; Info &gt; Warning &gt; Error &gt; Critical Log 관리시 가장 기본이 되는 설정 정보 1 2 3 4 5 6 7 8 9 10 11 12 13 import logging if __name__==&quot;__main__&quot;: # logger = logging.getLogger(&quot;main&quot;) logging.basicConfig(level=logging.DEBUG) # logging level을 DEBUG로 셋팅 # logger.setLevel(logging.WARNING) logger.debug(&quot;틀렸습니다&quot;) logger.info(&quot;확인해주세요&quot;) logger.warning(&quot;주의해주세요&quot;) logger.error(&quot;에러입니다&quot;) logger.critical(&quot;심각한 문제&quot;) 1 2 3 4 5 DEBUG:root:틀렸습니다 INFO:root:확인해주세요 WARNING:root:주의해주세요 ERROR:root:에러입니다 CRITICAL:root:심각한 문제 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import logging if __name__==&quot;__main__&quot;: logger = logging.getLogger(&quot;main&quot;) logging.basicConfig(level=logging.DEBUG) # logging level을 DEBUG로 셋팅 logger.setLevel(logging.WARNING) # WARNING level 부터 log 출력 steam_handler = logging.FileHandler(&quot;my.log&quot;, mode=&quot;a&quot;,encoding=&quot;utf8&quot;) # my.log 라는 파일에 로그내용 추가 logger.addHandler(steam_handler) logger.debug(&quot;틀렸습니다&quot;) logger.info(&quot;확인해주세요&quot;) logger.warning(&quot;주의해주세요&quot;) logger.error(&quot;에러입니다&quot;) logger.critical(&quot;심각한 문제&quot;) 1 2 3 WARNING:main:주의해주세요 ERROR:main:에러입니다 CRITICAL:main:심각한 문제 Logging을 위한 사전 셋팅 실제 프로그램을 실행할 땐 여러가지 설정이 필요 데이터 파일의 위치, 파일 저장 장소, Operation Type 같은 정보를 설정 해줄 방법이 필요 Configparser 프로그램의 실행 설정을 file에 저장함 section, key, value 값의 형태로 설정된 설정 파일을 사용 설정파일을 Dict type으로 호출후 사용 example.cfg 1 2 3 4 5 6 7 8 9 [SectionOne] Status: Single Name: Derek Value: Yes Age: 30 Single: True [SectionTwo] FavoriteColor = Green 1 2 3 4 5 6 7 8 9 10 11 12 13 import configparser config = configparser.ConfigParser() config.sections() config.read(&quot;example.cfg&quot;) config.sections() for key in config[&quot;SectionOne&quot;]: value = config[&quot;SectionOne&quot;][key] print(key, value) config[&quot;SectionOne&quot;][&quot;status&quot;] 1 2 3 4 5 6 status Single name Derek value Yes age 30 single True &#39;Single&#39; Argparser console 창에서 프로그램 실행시 Setting 정보를 저장함 거의 모든 console 기반 파이썬 프로그램 기본으로 제공 특수 모듈도 많이 존재하지만, 일반적으로 argparser 사용 Command Line Option 이라고 부름 콘솔에서 특정 argument에 따라 특정 옵션을 주는 것을 볼 수 있음 arg_sum.py 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 import argparse parser = argparse.ArgumentParser(description=&quot;sum two integers&quot;) parser.add_argument( &quot;-a&quot;, &quot;--a_value&quot;, dest=&quot;a&quot;, help=&quot;A integer&quot;, type=int, required=True ) parser.add_argument( &quot;-b&quot;, &quot;--b_value&quot;, # 짧은 이름, 긴 이름 dest=&quot;b&quot;, help=&quot;B integer&quot;, type=int, # 표시명, 설명, argument type required=True ) args = parser.parse_args() print(args) print(args.a) print(args.b) print(args.a+args.b) argparser example 사용자가 미리 설정을 만들어서 실험이 가능함 1 2 3 4 5 6 7 8 9 10 11 12 13 14 def main(): parser = argparse.ArgumentParser(description=&#39;PyTorch MNIST Example&#39;) parser.add_argument(&#39;--batch-size&#39;, type=int, default=64, metavar=&#39;N&#39;, help=&#39;input batch size for training (default: 64)&#39;) parser.add_argument(&#39;--test-batch-size&#39;, type=int, default=1000, metavar=&#39;N&#39;, help=&#39;input batch size for testing (default: 1000)&#39;) parser.add_argument(&#39;--epochs&#39;, type=int, default=10, metavar=&#39;N&#39;, help=&#39;number of epochs to train (default: 10)&#39;) parser.add_argument(&#39;--lr&#39;, type=fl0at, default=0.01, metavar=&#39;LR&#39;, help=&#39;learning rate (default: 0.01 )&#39;) parser.add_argument(&#39;--momentum&#39;, type=fl0at, default=0.5, metavar=&#39;M&#39;, help=&#39;SGD momentum (default: O.5)&#39;) parser.add_argument(&#39;--no-cuda&#39;, action=&#39;store_true&#39;, default=False, help=&#39;disables CUDA training&#39;) parser.add_argument(‘--seed&#39;, type=int, default=1, metavar=&#39;S&#39;, help=&#39;random seed (default: 1)&#39;) parser.add_argument(&#39;--save-model&#39;, action=&#39;store_true&#39;, default=False, help=&#39;For Saving the current Model&#39;) args = parser.parse_args() if _name_ == &#39;_main_&#39;: main() Logging 적용하기 Logging formatter Log의 결과값의 format을 지정해줄 수 있음 1 2 3 import logging formatter = logging.Formatter(&quot;%(asctime)s %(levelname)s %(process)d %(message)s&quot;) 1 2 3 4 5 6 7 2018-01-18 22:47:04,385 ERROR 4410 ERROR occurred 2018-01-18 22:47:22,458 ERROR 4439 ERROR occurred 2018-01-18 22:47:22,458 INFO 4439 HERE WE ARE 2018-01-18 22:47:24,680 ERROR 4443 ERROR occurred 2018-01-18 22:47:24,681 INFO 4443 HERE WE ARE 2018-01-18 22:47:24,970 ERROR 4445 ERROR occurred 2018-01-18 22:47:24,970 INFO 4445 HERE WE ARE Log config file logging.conf 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 [loggers] keys=root [handlers] keys=consoleHandler [formatters] keys=simpleFormatter [logger_root] level=DEBUG handlers=consoleHandler [handler_consoleHandler] class=StreamHandler level=DEBUG formatter=simpleFormatter args=(sys.stdout,) [formatter_simpleFormatter] format=%(asctime)s - %(levelname)s - %(process)d - %(message)s datefmt=%m/%d/%Y %I:%M:%S %p 1 2 logging.config.fileConfig(&quot;logging.conf&quot;) logger=logging.getLogger() 참고 boostcourse - 머신러닝을 위한 파이썬 Python documentation" />
<link rel="canonical" href="http://localhost:4000/python_8/" />
<meta property="og:url" content="http://localhost:4000/python_8/" />
<meta property="og:site_name" content="Seungki1011’s Dev Blog" />
<meta property="og:image" content="http://localhost:4000/post_images/python%20logo.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-09-08T00:00:00+09:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/post_images/python%20logo.png" />
<meta property="twitter:title" content="Python - 8(Exception, Logging)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"seungki"},"dateModified":"2022-09-08T00:00:00+09:00","datePublished":"2022-09-08T00:00:00+09:00","description":"Exception 예외는 예상이 가능한 예외와 불가능한 예외가 있다 예상 가능한 예외 사전에 인지할 수 있는 예외 사용자의 잘못된 입력 또는 파일 호출 시 파일이 없는 경우 등 개발자가 반드시 명시적으로 정의 해야함 예상 불가능한 예외 인터프리터 과정에서 발생하는 예외, 개발자 실수 리스트의 범위를 넘어가는 값 호출, 정수를 0으로 나누기 등 수행 불가시 인터프리터가 자동 호출 예외 처리 예외가 발생할 경우 후속 조치가 필요 없는 파일 호출 - 파일이 없다는 것을 알림 게임 이상 종료 - 게임 정보를 저장함 Exception handling try ~ except 1 2 3 4 try: # 예외 발생 가능한 코드 except &lt;Exception Type&gt;: # 예외 발생시 대응하는 코드 try ~ except example 0으로 숫자를 나눌 때 예외처리 하기 1 2 3 4 5 for i in range(5): try: print(10/i) except ZeroDivisionError: print(&quot;do not divide by 0&quot;) 1 2 3 4 5 do not divide by 0 10.0 5.0 3.3333333333333335 2.5 보통 맨 끝에는 Exception을 달아줌, 모든 예외를 나타내기에는 좋은 코드는 아님 1 2 3 4 5 6 7 for i in range(5): try: print(10/i) except ZeroDivisionError: print(&quot;do not divide by 0&quot;) except Exception as e: print(e) exception의 종류 built-in exception : 기본적으로 제공하는 예외 IndexError : list의 index범위를 넘어가는 경우 NameError : 존재하지 않는 변수를 호출 할 때 ZeroDivisionError : 0으로 숫자를 나눌 때 ValueError : 변환할 수 없는 문자/숫자를 변환할 때 FileNotFoundError : 존재하지 않는 파일을 호출할 때 예외 정보 표시하기 1 2 3 4 5 6 for i in range(5): try: print(10/i) except ZeroDivisionError as e: print(e) print(&quot;do not divide by 0&quot;) 1 2 3 4 5 6 division by zero do not divide by 0 10.0 5.0 3.3333333333333335 2.5 try ~ except ~ else 1 2 3 4 5 6 try: # 예외 발생 가능 코드 except &lt;Exception Type&gt;: # 예외 발생시 동작하는 코드 else: # 예외가 발생하지 않을 때 동작하는 코드 try ~ except ~ else example 1 2 3 4 5 6 7 for i in range(5): try: result = 10/i except ZeroDivisionError: print(&quot;do not divide by 0&quot;) else: print(result) 1 2 3 4 5 do not divide by 0 10.0 5.0 3.3333333333333335 2.5 try ~ except ~ finally 1 2 3 4 5 6 try: # 예외 발생 가능 코드 except &lt;Exception Type&gt;: # 예외 발생시 동작하는 코드 finally: # 예외 발생 여부와 상관없이 실행 try ~ except ~ finally example 1 2 3 4 5 6 7 8 try: for i in range(1,5): result = 10/i print(result) except ZeroDivisionError: print(&quot;do not divide by 0&quot;) finally: print(&quot;종료되었습니다&quot;) 1 2 3 4 5 10.0 5.0 3.3333333333333335 2.5 종료되었습니다 raise 필요에 따라 강제로 예외 발생 1 raise &lt;Exception Type&gt;(예외정보) raise example 1 2 3 4 5 6 while True: value=input(&quot;변환할 정수를 입력해주세요 : &quot;) for digit in value: if digit not in &quot;0123456789&quot;: raise ValueError(&quot;숫자값을 입력하지 않았습니다&quot;) print(&quot;정수값으로 변환된 숫자 : &quot;, int(value)) 1 2 3 4 5 6 7 8 9 10 변환할 정수를 입력해주세요 : a --------------------------------------------------------------------------- ValueError Traceback (most recent call last) ~\\AppData\\Local\\Temp\\ipykernel_10184\\4244621495.py in &lt;module&gt; 3 for digit in value: 4 if digit not in &quot;0123456789&quot;: ----&gt; 5 raise ValueError(&quot;숫자값을 입력하지 않았습니다&quot;) 6 print(&quot;정수값으로 변환된 숫자 : &quot;, int(value)) ValueError: 숫자값을 입력하지 않았습니다 assert 특정 조건에 만족하지 않을 경우 예외 발생 1 assert 예외조건 assert example 1 2 3 4 5 def get_binary_number(decimal_number): assert isinstance(decimal_number, int) return bin(decimal_number) print(get_binary_number(10)) 1 0b1010 1 print(get_binary_number(&quot;sadf&quot;)) 1 2 3 4 5 6 7 8 9 10 11 12 13 --------------------------------------------------------------------------- AssertionError Traceback (most recent call last) ~\\AppData\\Local\\Temp\\ipykernel_10184\\488716815.py in &lt;module&gt; ----&gt; 1 print(get_binary_number(&quot;sadf&quot;)) ~\\AppData\\Local\\Temp\\ipykernel_10184\\3506293914.py in get_binary_number(decimal_number) 1 def get_binary_number(decimal_number): ----&gt; 2 assert isinstance(decimal_number, int) 3 return bin(decimal_number) 4 5 print(get_binary_number(10)) AssertionError: python file i/o 파이썬은 파일 처리를 위해 open 키워드 사용 1 2 f=open(&quot;&lt;파일이름&gt;&quot;,&quot;접근모드&quot;) f.close() 파일열기 모드 r , 읽기모드 - 파일을 읽기만 할 때 사용 w, 쓰기모드 - 파일에 내용을 쓸 때 사용 a, 추가모드 - 파일의 마지막에 새로운 내용을 추가 시킬 때 사용 File read read() - txt 파일 안에 있는 내용을 문자열로 반환 1 2 3 4 5 # 대상파일이 같은 폴더에 있을 경우 f = open(&quot;practice_text.txt&quot;, &quot;r&quot;) contents=f.read() print(contents) f.close() 1 2 3 4 5 6 7 this is sentence 1 this is sentence 2 this is sentence 3 this is sentence 4 this is sentence 5 this is sentence 6 bye bye~ with 구문과 함께 사용하는 경우 indentation에서 벗어나면 close 1 2 3 4 # with 구문과 함께 사용하기 with open(&quot;practice_text.txt&quot;,&quot;r&quot;) as my_file: contents=my_file.read() print(type(contents), contents) 1 2 3 4 5 6 7 &lt;class &#39;str&#39;&gt; this is sentence 1 this is sentence 2 this is sentence 3 this is sentence 4 this is sentence 5 this is sentence 6 bye bye~ 한 줄씩 읽어서 list type으로 반환 1 2 3 4 5 # 한 줄씩 읽어서 list type으로 반환 with open(&quot;practice_text.txt&quot;,&quot;r&quot;) as my_file: content_list=my_file.readlines() # 파일 전체를 list로 반환 print(type(content_list)) print(content_list) 1 2 &lt;class &#39;list&#39;&gt; [&#39;this is sentence 1\\n&#39;, &#39;this is sentence 2\\n&#39;, &#39;this is sentence 3\\n&#39;, &#39;this is sentence 4\\n&#39;, &#39;this is sentence 5\\n&#39;, &#39;this is sentence 6\\n&#39;, &#39;bye bye~&#39;] 실행 시 마다 한 줄씩 읽어 오기 그 때 마다 메모리에 올림 1 2 3 4 5 6 7 8 9 # 실행 시 마다 한 줄 씩 읽어 오기 with open(&quot;practice_text.txt&quot;,&quot;r&quot;) as my_file: i=0 while True: line=my_file.readline() # 한 줄 씩, readlines()와 다름 if not line: break print(str(i)+&quot;===&quot;+line.replace(&quot;\\n&quot;,&quot;&quot;)) # 한 줄씩 값 출력 i+=1 1 2 3 4 5 6 7 0===this is sentence 1 1===this is sentence 2 2===this is sentence 3 3===this is sentence 4 4===this is sentence 5 5===this is sentence 6 6===bye bye~ File write 인코딩은 utf8 1 2 3 4 5 f=open(&quot;count_log.txt&quot;,&quot;w&quot;,encoding=&quot;utf8&quot;) for i in range(1,11): data=f&quot;{i} 번째 줄입니다. \\n&quot; f.write(data) f.close() count_log.txt 1 2 3 4 5 6 7 8 9 10 1 번째 줄입니다. 2 번째 줄입니다. 3 번째 줄입니다. 4 번째 줄입니다. 5 번째 줄입니다. 6 번째 줄입니다. 7 번째 줄입니다. 8 번째 줄입니다. 9 번째 줄입니다. 10 번째 줄입니다. 추가 모드 “a” 1 2 3 4 5 f=open(&quot;count_log.txt&quot;,&quot;a&quot;,encoding=&quot;utf8&quot;) for i in range(1,4): data=f&quot;{i} 번째 추가된 줄입니다. \\n&quot; f.write(data) f.close() 1 2 3 4 5 6 7 8 9 10 11 12 13 1 번째 줄입니다. 2 번째 줄입니다. 3 번째 줄입니다. 4 번째 줄입니다. 5 번째 줄입니다. 6 번째 줄입니다. 7 번째 줄입니다. 8 번째 줄입니다. 9 번째 줄입니다. 10 번째 줄입니다. 1 번째 추가된 줄입니다. 2 번째 추가된 줄입니다. 3 번째 추가된 줄입니다. 파이썬 directory os 모듈을 사용하여 디렉토리 다루기 1 2 import os os.mkdir(&quot;log&quot;) # 현재주소에서 log라는 폴더 생성 디렉토리가 있는지 확인하기 1 2 3 if not os.path.isdir(&quot;log2&quot;): # log2라는 디렉토리가 없으면 메세지 출력후 디렉토리 생성 print(&quot;log2 is made&quot;) os.mksir(&quot;log2&quot;) 1 log2 is made 디렉토리가 존재하면 사용하는 예외처리 1 2 3 4 try: os.mkdir(&quot;log&quot;) except FileExistsError as e: print(&quot;already created&quot;) 1 already created os.path.exists() 1 os.path.exists(&quot;log&quot;) # 존재하면 True 반환 1 True shutil.copy() - 파일 복사 1 2 3 4 5 6 import shutil source = &quot;count_log.txt&quot; dest = os.path.join(&quot;log&quot;,&quot;empty_log.txt&quot;) # join 사용 권장 shutil.copy(source,dest) # dest에서 log 폴더에 empty_log.txt를 만들고 source를 empty_log에 1 &#39;log\\\\empty_log.txt&#39; pathlib 모듈을 사용해서 path를 객체로 다룸 1 2 3 4 5 import pathlib cwd = pathlib.Path.cwd() print(cwd) print(cwd.parent) print(cwd.parent.parent) 1 2 3 C:\\Users\\KIMSEUNGKI\\python_practice C:\\Users\\KIMSEUNGKI C:\\Users 1 print(list(cwd.parents)) 1 [WindowsPath(&#39;C:/Users/KIMSEUNGKI&#39;), WindowsPath(&#39;C:/Users&#39;), WindowsPath(&#39;C:/&#39;)] Log 파일 생성하기 디렉토리의 유무, 파일의 유무 확인 후 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import os if not os.path.isdir(&quot;log&quot;): os.mkdir(&quot;log&quot;) if not os.path.exists(&quot;log\\count_log.txt&quot;): f=open(&quot;log\\count_log.txt&quot;,&quot;w&quot;,encoding=&quot;utf8&quot;) f.write(&quot;기록이 시작됩니다\\n&quot;) f.close f=open(&quot;log\\count_log.txt&quot;,&quot;a&quot;,encoding=&quot;utf8&quot;) import random, datetime for i in range(1,5): stamp=str(datetime.datetime.now()) value=random.random()*1000000 log_line=stamp+&quot;\\t&quot;+str(value)+&quot;값이 생성되었습니다&quot;+&quot;\\n&quot; f.write(log_line) f.close() log\\count_log.txt 1 2 3 4 5 기록이 시작됩니다 2023-03-05 16:22:16.344776 172857.09505431302값이 생성되었습니다 2023-03-05 16:22:16.344776 833191.7616896472값이 생성되었습니다 2023-03-05 16:22:16.344776 430916.5337239962값이 생성되었습니다 2023-03-05 16:22:16.344776 635487.9829742208값이 생성되었습니다 Pickle 파이썬 객체를 영속화(persistence)하는 built-in 객체 데이터, object 등 실행중 정보를 저장하고 불러와서 사용한다 저장해야하는 정보, 계산 결과(모델) 등 활용이 많음 1 2 3 4 5 6 7 8 9 10 11 import pickle f=open(&quot;list.pickle&quot;,&quot;wb&quot;) test=[1,2,3,4,5] pickle.dump(test,f) f.close() f=open(&quot;list.pickle&quot;,&quot;rb&quot;) test_pickle=pickle.load(f) print(test_pickle) f.close() 1 [1, 2, 3, 4, 5] Logging Handling Logging - 로그 남기기 프로그램이 실행되는 동안 일어나는 정보를 기록으로 남기기 유저의 접근, 프로그램의 예외, 특정 함수의 사용 등 console 화면에 출력, 파일에 남기기, DB에 남기기 등 기록된 로그를 분석하여 의미있는 결과를 도출 할 수 있음 실행시점에서 남겨야하는 기록, 개발시점에서 남겨야하는 기록 Print vs Logging 기록을 print로 남기는 것도 가능은 함 그러나 console 창에만 남기는 기록은 분석시 사용 불가 때로는 레벨별(개발, 운영)로 기록을 남길 필요도 있음 모듈별로 별도의 logging을 남길 필요도 있음 이런 기능을 체계적으로 지원하는 모듈이 필요함 Logging module 파이썬의 기본 Log 관리 모듈 1 2 3 4 5 6 7 import logging logging.debug(&quot;틀렸습니다&quot;) logging.info(&quot;확인해주세요&quot;) logging.warning(&quot;주의해주세요&quot;) # 파이썬의 기본 logging level은 warning부터 시작 logging.error(&quot;에러입니다&quot;) logging.critical(&quot;심각한 문제&quot;) 1 2 3 WARNING:root:주의해주세요 ERROR:root:에러입니다 CRITICAL:root:심각한 문제 Logging Level 프로그램 진행 상황에 따라 다른 Level의 Log를 출력함 개발 시점, 운영 시점 마다 다른 Log가 남을 수 있도록 지원함 Debug &gt; Info &gt; Warning &gt; Error &gt; Critical Log 관리시 가장 기본이 되는 설정 정보 1 2 3 4 5 6 7 8 9 10 11 12 13 import logging if __name__==&quot;__main__&quot;: # logger = logging.getLogger(&quot;main&quot;) logging.basicConfig(level=logging.DEBUG) # logging level을 DEBUG로 셋팅 # logger.setLevel(logging.WARNING) logger.debug(&quot;틀렸습니다&quot;) logger.info(&quot;확인해주세요&quot;) logger.warning(&quot;주의해주세요&quot;) logger.error(&quot;에러입니다&quot;) logger.critical(&quot;심각한 문제&quot;) 1 2 3 4 5 DEBUG:root:틀렸습니다 INFO:root:확인해주세요 WARNING:root:주의해주세요 ERROR:root:에러입니다 CRITICAL:root:심각한 문제 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 import logging if __name__==&quot;__main__&quot;: logger = logging.getLogger(&quot;main&quot;) logging.basicConfig(level=logging.DEBUG) # logging level을 DEBUG로 셋팅 logger.setLevel(logging.WARNING) # WARNING level 부터 log 출력 steam_handler = logging.FileHandler(&quot;my.log&quot;, mode=&quot;a&quot;,encoding=&quot;utf8&quot;) # my.log 라는 파일에 로그내용 추가 logger.addHandler(steam_handler) logger.debug(&quot;틀렸습니다&quot;) logger.info(&quot;확인해주세요&quot;) logger.warning(&quot;주의해주세요&quot;) logger.error(&quot;에러입니다&quot;) logger.critical(&quot;심각한 문제&quot;) 1 2 3 WARNING:main:주의해주세요 ERROR:main:에러입니다 CRITICAL:main:심각한 문제 Logging을 위한 사전 셋팅 실제 프로그램을 실행할 땐 여러가지 설정이 필요 데이터 파일의 위치, 파일 저장 장소, Operation Type 같은 정보를 설정 해줄 방법이 필요 Configparser 프로그램의 실행 설정을 file에 저장함 section, key, value 값의 형태로 설정된 설정 파일을 사용 설정파일을 Dict type으로 호출후 사용 example.cfg 1 2 3 4 5 6 7 8 9 [SectionOne] Status: Single Name: Derek Value: Yes Age: 30 Single: True [SectionTwo] FavoriteColor = Green 1 2 3 4 5 6 7 8 9 10 11 12 13 import configparser config = configparser.ConfigParser() config.sections() config.read(&quot;example.cfg&quot;) config.sections() for key in config[&quot;SectionOne&quot;]: value = config[&quot;SectionOne&quot;][key] print(key, value) config[&quot;SectionOne&quot;][&quot;status&quot;] 1 2 3 4 5 6 status Single name Derek value Yes age 30 single True &#39;Single&#39; Argparser console 창에서 프로그램 실행시 Setting 정보를 저장함 거의 모든 console 기반 파이썬 프로그램 기본으로 제공 특수 모듈도 많이 존재하지만, 일반적으로 argparser 사용 Command Line Option 이라고 부름 콘솔에서 특정 argument에 따라 특정 옵션을 주는 것을 볼 수 있음 arg_sum.py 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 import argparse parser = argparse.ArgumentParser(description=&quot;sum two integers&quot;) parser.add_argument( &quot;-a&quot;, &quot;--a_value&quot;, dest=&quot;a&quot;, help=&quot;A integer&quot;, type=int, required=True ) parser.add_argument( &quot;-b&quot;, &quot;--b_value&quot;, # 짧은 이름, 긴 이름 dest=&quot;b&quot;, help=&quot;B integer&quot;, type=int, # 표시명, 설명, argument type required=True ) args = parser.parse_args() print(args) print(args.a) print(args.b) print(args.a+args.b) argparser example 사용자가 미리 설정을 만들어서 실험이 가능함 1 2 3 4 5 6 7 8 9 10 11 12 13 14 def main(): parser = argparse.ArgumentParser(description=&#39;PyTorch MNIST Example&#39;) parser.add_argument(&#39;--batch-size&#39;, type=int, default=64, metavar=&#39;N&#39;, help=&#39;input batch size for training (default: 64)&#39;) parser.add_argument(&#39;--test-batch-size&#39;, type=int, default=1000, metavar=&#39;N&#39;, help=&#39;input batch size for testing (default: 1000)&#39;) parser.add_argument(&#39;--epochs&#39;, type=int, default=10, metavar=&#39;N&#39;, help=&#39;number of epochs to train (default: 10)&#39;) parser.add_argument(&#39;--lr&#39;, type=fl0at, default=0.01, metavar=&#39;LR&#39;, help=&#39;learning rate (default: 0.01 )&#39;) parser.add_argument(&#39;--momentum&#39;, type=fl0at, default=0.5, metavar=&#39;M&#39;, help=&#39;SGD momentum (default: O.5)&#39;) parser.add_argument(&#39;--no-cuda&#39;, action=&#39;store_true&#39;, default=False, help=&#39;disables CUDA training&#39;) parser.add_argument(‘--seed&#39;, type=int, default=1, metavar=&#39;S&#39;, help=&#39;random seed (default: 1)&#39;) parser.add_argument(&#39;--save-model&#39;, action=&#39;store_true&#39;, default=False, help=&#39;For Saving the current Model&#39;) args = parser.parse_args() if _name_ == &#39;_main_&#39;: main() Logging 적용하기 Logging formatter Log의 결과값의 format을 지정해줄 수 있음 1 2 3 import logging formatter = logging.Formatter(&quot;%(asctime)s %(levelname)s %(process)d %(message)s&quot;) 1 2 3 4 5 6 7 2018-01-18 22:47:04,385 ERROR 4410 ERROR occurred 2018-01-18 22:47:22,458 ERROR 4439 ERROR occurred 2018-01-18 22:47:22,458 INFO 4439 HERE WE ARE 2018-01-18 22:47:24,680 ERROR 4443 ERROR occurred 2018-01-18 22:47:24,681 INFO 4443 HERE WE ARE 2018-01-18 22:47:24,970 ERROR 4445 ERROR occurred 2018-01-18 22:47:24,970 INFO 4445 HERE WE ARE Log config file logging.conf 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 [loggers] keys=root [handlers] keys=consoleHandler [formatters] keys=simpleFormatter [logger_root] level=DEBUG handlers=consoleHandler [handler_consoleHandler] class=StreamHandler level=DEBUG formatter=simpleFormatter args=(sys.stdout,) [formatter_simpleFormatter] format=%(asctime)s - %(levelname)s - %(process)d - %(message)s datefmt=%m/%d/%Y %I:%M:%S %p 1 2 logging.config.fileConfig(&quot;logging.conf&quot;) logger=logging.getLogger() 참고 boostcourse - 머신러닝을 위한 파이썬 Python documentation","headline":"Python - 8(Exception, Logging)","image":"http://localhost:4000/post_images/python%20logo.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/python_8/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/logo.png"},"name":"seungki"},"url":"http://localhost:4000/python_8/"}</script>
<!-- End Jekyll SEO tag -->


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
<link href="/assets/css/screen.css" rel="stylesheet">

<link href="/assets/css/main.css" rel="stylesheet">

<link href="/assets/css/custom.css" rel="stylesheet">

<script src="/assets/js/jquery.min.js"></script>

</head>




<body class="layout-post">
	<!-- defer loading of font and font awesome -->
	<noscript id="deferred-styles">
		<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	</noscript>


<!-- Begin Menu Navigation
================================================== -->
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">

    <div class="container pr-0">

    <!-- Begin Logo -->
    <a class="navbar-brand" href="/">
    <img src="/assets/images/logo.png" alt="Seungki1011's Dev Blog">
    </a>
    <!-- End Logo -->

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarMediumish">

        <!-- Begin Menu -->

            <ul class="navbar-nav ml-auto">

                
                <li class="nav-item">
                
                <a class="nav-link" href="/index.html">Blog</a>
                </li>

                <li class="nav-item">
                <a class="nav-link" href="/about">About Me</a>
                </li>

                <!-- <li class="nav-item">
                <a target="_blank" class="nav-link" href="https://bootstrapstarter.com/bootstrap-templates/template-mediumish-bootstrap-jekyll/"> Docs</a>
                </li>

                <li class="nav-item">
                <a target="_blank" class="nav-link" href="https://www.wowthemes.net/themes/mediumish-wordpress/"><i class="fab fa-wordpress-simple"></i> WP Version</a>
                </li>

                <li class="nav-item">
                <a target="_blank" class="nav-link" href="https://www.wowthemes.net/themes/mediumish-ghost/"><i class="fab fa-snapchat-ghost"></i> Ghost Version</a>
                </li>

                <li class="nav-item">
                <a target="_blank" class="nav-link" href="https://github.com/wowthemesnet/mediumish-theme-jekyll"><i class="fab fa-github"></i> Fork on Github</a>
                </li> -->

                <script src="/assets/js/lunr.js"></script>


<style>
    .lunrsearchresult .title {color: #d9230f;}
    .lunrsearchresult .url {color: silver;}
    .lunrsearchresult a {display: block; color: #777;}
    .lunrsearchresult a:hover, .lunrsearchresult a:focus {text-decoration: none;}
    .lunrsearchresult a:hover .title {text-decoration: underline;}
</style>


<form class="bd-search" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
    <input type="text" class="form-control text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."/>
</form>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script>

            </ul>

        <!-- End Menu -->

    </div>

    </div>
</nav>
<!-- End Navigation
================================================== -->

<div class="site-content">

<div class="container">

<!-- Site Title
================================================== -->
<div class="mainheading">
    <h1 class="sitetitle">Seungki1011's Dev Blog</h1>
    <p class="lead">
        머신러닝 엔지니어의 공부 블로그 🙂
    </p>
</div>

<!-- Content
================================================== -->
<div class="main-content">
    <!-- Begin Article
================================================== -->
<div class="container">
    <div class="row">

        <!-- Post Share -->
        <div class="col-md-2 pl-0">
            <div class="share sticky-top sticky-top-offset">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Python - 8(Exception, Logging)&url=http://localhost:4000/python_8/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=http://localhost:4000/python_8/" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/python_8/" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>

    </ul>
    
    <div class="sep">
    </div>
    <ul>
        <li>
        <a class="small smoothscroll" href="#disqus_thread"></a>
        </li>
    </ul>
    
</div>

        </div>

        <!-- Post -->
        

        <div class="col-md-9 flex-first flex-md-unordered">
            <div class="mainheading">

                <!-- Author Box -->
                
                <div class="row post-top-meta">
                    <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0">
                        
                        <img class="author-thumb" src="/assets/images/avatar.png" alt="Seungki">
                        
                    </div>
                    <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left">
                        <a target="_blank" class="link-dark" href="">Seungki</a><a target="_blank" href="" class="btn follow">Follow</a>
                        <span class="author-description">Trying to find a career for ML engineering in Seoul & Pangyo.</span>
                    </div>
                </div>
                

                <!-- Post Title -->
                <h1 class="posttitle">Python - 8(Exception, Logging)</h1>

            </div>

            <!-- Adsense if enabled from _config.yml (change your pub id and slot) -->
            
            <!-- End Adsense -->

            <!-- Post Featured Image -->
            

            
            <img class="featured-image img-fluid" src="/post_images/python logo.png" alt="Python - 8(Exception, Logging)">
            

            
            <!-- End Featured Image -->

            <!-- Post Content -->
            <div class="article-post">
                <!-- Toc if any -->
                
                    
                    <div class="toc mt-4 mb-4 lead">
                        <h3 class="font-weight-bold">Summary</h3>
                        <ul>
  <li><a href="#exception">Exception</a>
    <ul>
      <li><a href="#예상-가능한-예외">예상 가능한 예외</a></li>
      <li><a href="#예상-불가능한-예외">예상 불가능한 예외</a></li>
    </ul>
  </li>
  <li><a href="#예외-처리">예외 처리</a></li>
  <li><a href="#exception-handling">Exception handling</a>
    <ul>
      <li><a href="#try--except">try ~ except</a>
        <ul>
          <li><a href="#try--except-example">try ~ except example</a></li>
        </ul>
      </li>
      <li><a href="#exception의-종류">exception의 종류</a></li>
      <li><a href="#예외-정보-표시하기">예외 정보 표시하기</a></li>
      <li><a href="#try--except--else">try ~ except ~ else</a>
        <ul>
          <li><a href="#try--except--else-example">try ~ except ~ else example</a></li>
        </ul>
      </li>
      <li><a href="#try--except--finally">try ~ except ~ finally</a>
        <ul>
          <li><a href="#try--except--finally-example">try ~ except ~ finally example</a></li>
        </ul>
      </li>
      <li><a href="#raise">raise</a>
        <ul>
          <li><a href="#raise-example">raise example</a></li>
        </ul>
      </li>
      <li><a href="#assert">assert</a>
        <ul>
          <li><a href="#assert-example">assert example</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#python-file-io">python file i/o</a>
    <ul>
      <li><a href="#파일열기-모드">파일열기 모드</a></li>
      <li><a href="#file-read">File read</a></li>
      <li><a href="#file-write">File write</a></li>
    </ul>
  </li>
  <li><a href="#파이썬-directory">파이썬 directory</a></li>
  <li><a href="#log-파일-생성하기">Log 파일 생성하기</a></li>
  <li><a href="#pickle">Pickle</a></li>
  <li><a href="#logging-handling">Logging Handling</a>
    <ul>
      <li><a href="#logging---로그-남기기">Logging - 로그 남기기</a></li>
      <li><a href="#print-vs-logging">Print vs Logging</a></li>
      <li><a href="#logging-module">Logging module</a></li>
      <li><a href="#logging-level">Logging Level</a></li>
    </ul>
  </li>
  <li><a href="#logging을-위한-사전-셋팅">Logging을 위한 사전 셋팅</a>
    <ul>
      <li><a href="#configparser">Configparser</a></li>
      <li><a href="#argparser">Argparser</a>
        <ul>
          <li><a href="#arg_sumpy">arg_sum.py</a></li>
          <li><a href="#argparser-example">argparser example</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#logging-적용하기">Logging 적용하기</a>
    <ul>
      <li><a href="#logging-formatter">Logging formatter</a></li>
      <li><a href="#log-config-file">Log config file</a>
        <ul>
          <li><a href="#loggingconf">logging.conf</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#참고">참고</a></li>
</ul>
                    </div>
                
                <!-- End Toc -->
                <hr />
<h2 id="exception">Exception</h2>
<ul>
  <li>예외는 예상이 가능한 예외와 불가능한 예외가 있다
    <h3 id="예상-가능한-예외">예상 가능한 예외</h3>
  </li>
  <li>사전에 인지할 수 있는 예외</li>
  <li>사용자의 잘못된 입력 또는 파일 호출 시 파일이 없는 경우 등</li>
  <li>개발자가 반드시 명시적으로 정의 해야함</li>
</ul>

<h3 id="예상-불가능한-예외">예상 불가능한 예외</h3>

<ul>
  <li>인터프리터 과정에서 발생하는 예외, 개발자 실수</li>
  <li>리스트의 범위를 넘어가는 값 호출, 정수를 0으로 나누기 등</li>
  <li>수행 불가시 인터프리터가 자동 호출</li>
</ul>

<hr />

<h2 id="예외-처리">예외 처리</h2>

<ul>
  <li>예외가 발생할 경우 후속 조치가 필요
    <ol>
      <li>없는 파일 호출 - 파일이 없다는 것을 알림</li>
      <li>게임 이상 종료 - 게임 정보를 저장함</li>
    </ol>
  </li>
</ul>

<hr />

<h2 id="exception-handling">Exception handling</h2>

<h3 id="try--except">try ~ except</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">try</span><span class="p">:</span> 
    <span class="c1"># 예외 발생 가능한 코드
</span><span class="k">except</span> <span class="o">&lt;</span><span class="nb">Exception</span> <span class="n">Type</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="c1"># 예외 발생시 대응하는 코드
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="try--except-example">try ~ except example</h4>

<ul>
  <li>0으로 숫자를 나눌 때 예외처리 하기</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="mi">10</span><span class="o">/</span><span class="n">i</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">do not divide by 0</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>do not divide by 0
10.0
5.0
3.3333333333333335
2.5
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>보통 맨 끝에는 Exception을 달아줌, 모든 예외를 나타내기에는 좋은 코드는 아님</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="mi">10</span><span class="o">/</span><span class="n">i</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">do not divide by 0</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="exception의-종류">exception의 종류</h3>

<ul>
  <li>built-in exception : 기본적으로 제공하는 예외</li>
</ul>

<ol>
  <li>IndexError : list의 index범위를 넘어가는 경우</li>
  <li>NameError : 존재하지 않는 변수를 호출 할 때</li>
  <li>ZeroDivisionError : 0으로 숫자를 나눌 때</li>
  <li>ValueError : 변환할 수 없는 문자/숫자를 변환할 때</li>
  <li>FileNotFoundError : 존재하지 않는 파일을 호출할 때</li>
</ol>

<h3 id="예외-정보-표시하기">예외 정보 표시하기</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="mi">10</span><span class="o">/</span><span class="n">i</span><span class="p">)</span>
    <span class="k">except</span> <span class="nb">ZeroDivisionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">do not divide by 0</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>division by zero
do not divide by 0
10.0
5.0
3.3333333333333335
2.5
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="try--except--else">try ~ except ~ else</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">try</span><span class="p">:</span>
    <span class="c1"># 예외 발생 가능 코드
</span><span class="k">except</span> <span class="o">&lt;</span><span class="nb">Exception</span> <span class="n">Type</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="c1"># 예외 발생시 동작하는 코드
</span><span class="k">else</span><span class="p">:</span>
    <span class="c1"># 예외가 발생하지 않을 때 동작하는 코드
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="try--except--else-example">try ~ except ~ else example</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">10</span><span class="o">/</span><span class="n">i</span>
    <span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">do not divide by 0</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>do not divide by 0
10.0
5.0
3.3333333333333335
2.5
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="try--except--finally">try ~ except ~ finally</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">try</span><span class="p">:</span>
    <span class="c1"># 예외 발생 가능 코드
</span><span class="k">except</span> <span class="o">&lt;</span><span class="nb">Exception</span> <span class="n">Type</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="c1"># 예외 발생시 동작하는 코드
</span><span class="k">finally</span><span class="p">:</span>
    <span class="c1"># 예외 발생 여부와 상관없이 실행
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="try--except--finally-example">try ~ except ~ finally example</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="k">try</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">10</span><span class="o">/</span><span class="n">i</span>
        <span class="nf">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">ZeroDivisionError</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">do not divide by 0</span><span class="sh">"</span><span class="p">)</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">종료되었습니다</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>10.0
5.0
3.3333333333333335
2.5
종료되었습니다
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="raise">raise</h3>

<ul>
  <li>필요에 따라 강제로 예외 발생</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">raise</span> <span class="o">&lt;</span><span class="nb">Exception</span> <span class="n">Type</span><span class="o">&gt;</span><span class="p">(</span><span class="n">예외정보</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="raise-example">raise example</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">value</span><span class="o">=</span><span class="nf">input</span><span class="p">(</span><span class="sh">"</span><span class="s">변환할 정수를 입력해주세요 : </span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">digit</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">digit</span> <span class="ow">not</span> <span class="ow">in</span> <span class="sh">"</span><span class="s">0123456789</span><span class="sh">"</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">숫자값을 입력하지 않았습니다</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">정수값으로 변환된 숫자 : </span><span class="sh">"</span><span class="p">,</span> <span class="nf">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="n">변환할</span> <span class="n">정수를</span> <span class="n">입력해주세요</span> <span class="p">:</span> <span class="n">a</span>
<span class="o">---------------------------------------------------------------------------</span>
<span class="nb">ValueError</span>                                <span class="nc">Traceback </span><span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">~</span>\<span class="n">AppData</span>\<span class="n">Local</span>\<span class="n">Temp</span>\<span class="n">ipykernel_10184</span>\<span class="mf">4244621495.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="mi">3</span>     <span class="k">for</span> <span class="n">digit</span> <span class="ow">in</span> <span class="n">value</span><span class="p">:</span>
      <span class="mi">4</span>         <span class="k">if</span> <span class="n">digit</span> <span class="ow">not</span> <span class="ow">in</span> <span class="sh">"</span><span class="s">0123456789</span><span class="sh">"</span><span class="p">:</span>
<span class="o">----&gt;</span> <span class="mi">5</span>             <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">숫자값을 입력하지 않았습니다</span><span class="sh">"</span><span class="p">)</span>
      <span class="mi">6</span>     <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">정수값으로 변환된 숫자 : </span><span class="sh">"</span><span class="p">,</span> <span class="nf">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

<span class="nb">ValueError</span><span class="p">:</span> <span class="n">숫자값을</span> <span class="n">입력하지</span> <span class="n">않았습니다</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="assert">assert</h3>

<ul>
  <li>특정 조건에 만족하지 않을 경우 예외 발생</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="k">assert</span> <span class="n">예외조건</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="assert-example">assert example</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">get_binary_number</span><span class="p">(</span><span class="n">decimal_number</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">decimal_number</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
    <span class="k">return</span> <span class="nf">bin</span><span class="p">(</span><span class="n">decimal_number</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="nf">get_binary_number</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>0b1010
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nf">print</span><span class="p">(</span><span class="nf">get_binary_number</span><span class="p">(</span><span class="sh">"</span><span class="s">sadf</span><span class="sh">"</span><span class="p">))</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="o">---------------------------------------------------------------------------</span>
<span class="nb">AssertionError</span>                            <span class="nc">Traceback </span><span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">~</span>\<span class="n">AppData</span>\<span class="n">Local</span>\<span class="n">Temp</span>\<span class="n">ipykernel_10184</span>\<span class="mf">488716815.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="nf">print</span><span class="p">(</span><span class="nf">get_binary_number</span><span class="p">(</span><span class="sh">"</span><span class="s">sadf</span><span class="sh">"</span><span class="p">))</span>

<span class="o">~</span>\<span class="n">AppData</span>\<span class="n">Local</span>\<span class="n">Temp</span>\<span class="n">ipykernel_10184</span>\<span class="mf">3506293914.</span><span class="n">py</span> <span class="ow">in</span> <span class="nf">get_binary_number</span><span class="p">(</span><span class="n">decimal_number</span><span class="p">)</span>
      <span class="mi">1</span> <span class="k">def</span> <span class="nf">get_binary_number</span><span class="p">(</span><span class="n">decimal_number</span><span class="p">):</span>
<span class="o">----&gt;</span> <span class="mi">2</span>     <span class="k">assert</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">decimal_number</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
      <span class="mi">3</span>     <span class="k">return</span> <span class="nf">bin</span><span class="p">(</span><span class="n">decimal_number</span><span class="p">)</span>
      <span class="mi">4</span> 
      <span class="mi">5</span> <span class="nf">print</span><span class="p">(</span><span class="nf">get_binary_number</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>

<span class="nb">AssertionError</span><span class="p">:</span> 
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<h2 id="python-file-io">python file i/o</h2>

<ul>
  <li>파이썬은 파일 처리를 위해 open 키워드 사용</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">f</span><span class="o">=</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">&lt;파일이름&gt;</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">접근모드</span><span class="sh">"</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="파일열기-모드">파일열기 모드</h3>

<ul>
  <li>r , 읽기모드 - 파일을 읽기만 할 때 사용</li>
  <li>w, 쓰기모드 - 파일에 내용을 쓸 때 사용</li>
  <li>a, 추가모드 - 파일의 마지막에 새로운 내용을 추가 시킬 때 사용</li>
</ul>

<h3 id="file-read">File read</h3>

<ul>
  <li>read() - txt 파일 안에 있는 내용을 문자열로 반환</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c1"># 대상파일이 같은 폴더에 있을 경우
</span><span class="n">f</span> <span class="o">=</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">practice_text.txt</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">)</span>
<span class="n">contents</span><span class="o">=</span><span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>this is sentence 1
this is sentence 2
this is sentence 3
this is sentence 4
this is sentence 5
this is sentence 6
bye bye~
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>with 구문과 함께 사용하는 경우</li>
  <li>indentation에서 벗어나면 close</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="c1"># with 구문과 함께 사용하기
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">practice_text.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
    <span class="n">contents</span><span class="o">=</span><span class="n">my_file</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="nf">type</span><span class="p">(</span><span class="n">contents</span><span class="p">),</span> <span class="n">contents</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>&lt;class 'str'&gt; this is sentence 1
this is sentence 2
this is sentence 3
this is sentence 4
this is sentence 5
this is sentence 6
bye bye~
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>한 줄씩 읽어서 list type으로 반환</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c1"># 한 줄씩 읽어서 list type으로 반환
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">practice_text.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
    <span class="n">content_list</span><span class="o">=</span><span class="n">my_file</span><span class="p">.</span><span class="nf">readlines</span><span class="p">()</span> <span class="c1"># 파일 전체를 list로 반환
</span>    <span class="nf">print</span><span class="p">(</span><span class="nf">type</span><span class="p">(</span><span class="n">content_list</span><span class="p">))</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">content_list</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>&lt;class 'list'&gt;
['this is sentence 1\n', 'this is sentence 2\n', 'this is sentence 3\n', 'this is sentence 4\n', 'this is sentence 5\n', 'this is sentence 6\n', 'bye bye~']
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>실행 시 마다 한 줄씩 읽어 오기</li>
  <li>그 때 마다 메모리에 올림</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c1"># 실행 시 마다 한 줄 씩 읽어 오기
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">practice_text.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">r</span><span class="sh">"</span><span class="p">)</span> <span class="k">as</span> <span class="n">my_file</span><span class="p">:</span>
    <span class="n">i</span><span class="o">=</span><span class="mi">0</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">line</span><span class="o">=</span><span class="n">my_file</span><span class="p">.</span><span class="nf">readline</span><span class="p">()</span> <span class="c1"># 한 줄 씩, readlines()와 다름
</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
            <span class="k">break</span>
        <span class="nf">print</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="sh">"</span><span class="s">===</span><span class="sh">"</span><span class="o">+</span><span class="n">line</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sh">"</span><span class="se">\n</span><span class="sh">"</span><span class="p">,</span><span class="sh">""</span><span class="p">))</span> <span class="c1"># 한 줄씩 값 출력
</span>        <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>0===this is sentence 1
1===this is sentence 2
2===this is sentence 3
3===this is sentence 4
4===this is sentence 5
5===this is sentence 6
6===bye bye~
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="file-write">File write</h3>

<ul>
  <li>인코딩은 utf8</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="n">f</span><span class="o">=</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">count_log.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf8</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">11</span><span class="p">):</span>
    <span class="n">data</span><span class="o">=</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s"> 번째 줄입니다. </span><span class="se">\n</span><span class="sh">"</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>count_log.txt</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>1 번째 줄입니다. 
2 번째 줄입니다. 
3 번째 줄입니다. 
4 번째 줄입니다. 
5 번째 줄입니다. 
6 번째 줄입니다. 
7 번째 줄입니다. 
8 번째 줄입니다. 
9 번째 줄입니다. 
10 번째 줄입니다. 
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>추가 모드 “a”</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="n">f</span><span class="o">=</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">count_log.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf8</span><span class="sh">"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">data</span><span class="o">=</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s"> 번째 추가된 줄입니다. </span><span class="se">\n</span><span class="sh">"</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>1 번째 줄입니다. 
2 번째 줄입니다. 
3 번째 줄입니다. 
4 번째 줄입니다. 
5 번째 줄입니다. 
6 번째 줄입니다. 
7 번째 줄입니다. 
8 번째 줄입니다. 
9 번째 줄입니다. 
10 번째 줄입니다. 
1 번째 추가된 줄입니다. 
2 번째 추가된 줄입니다. 
3 번째 추가된 줄입니다. 
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<h2 id="파이썬-directory">파이썬 directory</h2>

<ul>
  <li>os 모듈을 사용하여 디렉토리 다루기</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">os</span>
<span class="n">os</span><span class="p">.</span><span class="nf">mkdir</span><span class="p">(</span><span class="sh">"</span><span class="s">log</span><span class="sh">"</span><span class="p">)</span> <span class="c1"># 현재주소에서 log라는 폴더 생성
</span></pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>디렉토리가 있는지 확인하기</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">isdir</span><span class="p">(</span><span class="sh">"</span><span class="s">log2</span><span class="sh">"</span><span class="p">):</span> <span class="c1"># log2라는 디렉토리가 없으면 메세지 출력후 디렉토리 생성
</span>    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">log2 is made</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">os</span><span class="p">.</span><span class="nf">mksir</span><span class="p">(</span><span class="sh">"</span><span class="s">log2</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>log2 is made
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>디렉토리가 존재하면 사용하는 예외처리</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">try</span><span class="p">:</span>
    <span class="n">os</span><span class="p">.</span><span class="nf">mkdir</span><span class="p">(</span><span class="sh">"</span><span class="s">log</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="nb">FileExistsError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">already created</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>already created
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>os.path.exists()</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="sh">"</span><span class="s">log</span><span class="sh">"</span><span class="p">)</span> <span class="c1"># 존재하면 True 반환
</span></pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>True 
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>shutil.copy() - 파일 복사</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">shutil</span>

<span class="n">source</span> <span class="o">=</span> <span class="sh">"</span><span class="s">count_log.txt</span><span class="sh">"</span>
<span class="n">dest</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="sh">"</span><span class="s">log</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">empty_log.txt</span><span class="sh">"</span><span class="p">)</span> <span class="c1"># join 사용 권장
</span>
<span class="n">shutil</span><span class="p">.</span><span class="nf">copy</span><span class="p">(</span><span class="n">source</span><span class="p">,</span><span class="n">dest</span><span class="p">)</span> <span class="c1"># dest에서 log 폴더에 empty_log.txt를 만들고 source를 empty_log에
</span></pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>'log\\empty_log.txt'
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>pathlib 모듈을 사용해서 path를 객체로 다룸</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">pathlib</span>
<span class="n">cwd</span> <span class="o">=</span> <span class="n">pathlib</span><span class="p">.</span><span class="n">Path</span><span class="p">.</span><span class="nf">cwd</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">cwd</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">cwd</span><span class="p">.</span><span class="n">parent</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">cwd</span><span class="p">.</span><span class="n">parent</span><span class="p">.</span><span class="n">parent</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>C:\Users\KIMSEUNGKI\python_practice
C:\Users\KIMSEUNGKI
C:\Users
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nf">print</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="n">cwd</span><span class="p">.</span><span class="n">parents</span><span class="p">))</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>[WindowsPath('C:/Users/KIMSEUNGKI'), WindowsPath('C:/Users'), WindowsPath('C:/')]
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<h2 id="log-파일-생성하기">Log 파일 생성하기</h2>

<ul>
  <li>디렉토리의 유무, 파일의 유무 확인 후</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">os</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">isdir</span><span class="p">(</span><span class="sh">"</span><span class="s">log</span><span class="sh">"</span><span class="p">):</span>
    <span class="n">os</span><span class="p">.</span><span class="nf">mkdir</span><span class="p">(</span><span class="sh">"</span><span class="s">log</span><span class="sh">"</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="nf">exists</span><span class="p">(</span><span class="sh">"</span><span class="s">log\count_log.txt</span><span class="sh">"</span><span class="p">):</span>
    <span class="n">f</span><span class="o">=</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">log\count_log.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">w</span><span class="sh">"</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf8</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">"</span><span class="s">기록이 시작됩니다</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">f</span><span class="p">.</span><span class="n">close</span>

<span class="n">f</span><span class="o">=</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">log\count_log.txt</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf8</span><span class="sh">"</span><span class="p">)</span>
<span class="kn">import</span> <span class="n">random</span><span class="p">,</span> <span class="n">datetime</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">stamp</span><span class="o">=</span><span class="nf">str</span><span class="p">(</span><span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="nf">now</span><span class="p">())</span>
    <span class="n">value</span><span class="o">=</span><span class="n">random</span><span class="p">.</span><span class="nf">random</span><span class="p">()</span><span class="o">*</span><span class="mi">1000000</span>
    <span class="n">log_line</span><span class="o">=</span><span class="n">stamp</span><span class="o">+</span><span class="sh">"</span><span class="se">\t</span><span class="sh">"</span><span class="o">+</span><span class="nf">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">+</span><span class="sh">"</span><span class="s">값이 생성되었습니다</span><span class="sh">"</span><span class="o">+</span><span class="sh">"</span><span class="se">\n</span><span class="sh">"</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">log_line</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>log\count_log.txt</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>기록이 시작됩니다
2023-03-05 16:22:16.344776	172857.09505431302값이 생성되었습니다
2023-03-05 16:22:16.344776	833191.7616896472값이 생성되었습니다
2023-03-05 16:22:16.344776	430916.5337239962값이 생성되었습니다
2023-03-05 16:22:16.344776	635487.9829742208값이 생성되었습니다
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<h2 id="pickle">Pickle</h2>

<ul>
  <li>파이썬 객체를 영속화(persistence)하는 built-in 객체</li>
  <li>데이터, object 등 실행중 정보를 저장하고 불러와서 사용한다</li>
  <li>저장해야하는 정보, 계산 결과(모델) 등 활용이 많음</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">pickle</span>

<span class="n">f</span><span class="o">=</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">list.pickle</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">wb</span><span class="sh">"</span><span class="p">)</span>
<span class="n">test</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">pickle</span><span class="p">.</span><span class="nf">dump</span><span class="p">(</span><span class="n">test</span><span class="p">,</span><span class="n">f</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>

<span class="n">f</span><span class="o">=</span><span class="nf">open</span><span class="p">(</span><span class="sh">"</span><span class="s">list.pickle</span><span class="sh">"</span><span class="p">,</span><span class="sh">"</span><span class="s">rb</span><span class="sh">"</span><span class="p">)</span>
<span class="n">test_pickle</span><span class="o">=</span><span class="n">pickle</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">test_pickle</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>[1, 2, 3, 4, 5]
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<h2 id="logging-handling">Logging Handling</h2>

<h3 id="logging---로그-남기기">Logging - 로그 남기기</h3>

<ul>
  <li>프로그램이 실행되는 동안 일어나는 정보를 기록으로 남기기</li>
  <li>유저의 접근, 프로그램의 예외, 특정 함수의 사용 등</li>
  <li>console 화면에 출력, 파일에 남기기, DB에 남기기 등</li>
  <li>기록된 로그를 분석하여 의미있는 결과를 도출 할 수 있음</li>
  <li>실행시점에서 남겨야하는 기록, 개발시점에서 남겨야하는 기록</li>
</ul>

<h3 id="print-vs-logging">Print vs Logging</h3>

<ul>
  <li>기록을 print로 남기는 것도 가능은 함</li>
  <li>그러나 console 창에만 남기는 기록은 분석시 사용 불가</li>
  <li>때로는 레벨별(개발, 운영)로 기록을 남길 필요도 있음</li>
  <li>모듈별로 별도의 logging을 남길 필요도 있음</li>
  <li>이런 기능을 체계적으로 지원하는 모듈이 필요함</li>
</ul>

<h3 id="logging-module">Logging module</h3>

<ul>
  <li>파이썬의 기본 Log 관리 모듈</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">logging</span>

<span class="n">logging</span><span class="p">.</span><span class="nf">debug</span><span class="p">(</span><span class="sh">"</span><span class="s">틀렸습니다</span><span class="sh">"</span><span class="p">)</span>
<span class="n">logging</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sh">"</span><span class="s">확인해주세요</span><span class="sh">"</span><span class="p">)</span>
<span class="n">logging</span><span class="p">.</span><span class="nf">warning</span><span class="p">(</span><span class="sh">"</span><span class="s">주의해주세요</span><span class="sh">"</span><span class="p">)</span> <span class="c1"># 파이썬의 기본 logging level은 warning부터 시작
</span><span class="n">logging</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sh">"</span><span class="s">에러입니다</span><span class="sh">"</span><span class="p">)</span>
<span class="n">logging</span><span class="p">.</span><span class="nf">critical</span><span class="p">(</span><span class="sh">"</span><span class="s">심각한 문제</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>WARNING:root:주의해주세요
ERROR:root:에러입니다
CRITICAL:root:심각한 문제
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="logging-level">Logging Level</h3>

<ul>
  <li>프로그램 진행 상황에 따라 다른 Level의 Log를 출력함</li>
  <li>개발 시점, 운영 시점 마다 다른 Log가 남을 수 있도록 지원함</li>
  <li>Debug &gt; Info &gt; Warning &gt; Error &gt; Critical</li>
  <li>Log 관리시 가장 기본이 되는 설정 정보</li>
</ul>

<p><img src="https://user-images.githubusercontent.com/120040458/222882662-cc44bbbe-99c0-40fd-a2d1-3ab949f23cff.PNG" alt="loglevel1" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">logging</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    
    <span class="c1"># logger = logging.getLogger("main")
</span>    <span class="n">logging</span><span class="p">.</span><span class="nf">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="p">.</span><span class="n">DEBUG</span><span class="p">)</span> <span class="c1"># logging level을 DEBUG로 셋팅
</span>    <span class="c1"># logger.setLevel(logging.WARNING)
</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">debug</span><span class="p">(</span><span class="sh">"</span><span class="s">틀렸습니다</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sh">"</span><span class="s">확인해주세요</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">warning</span><span class="p">(</span><span class="sh">"</span><span class="s">주의해주세요</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sh">"</span><span class="s">에러입니다</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">critical</span><span class="p">(</span><span class="sh">"</span><span class="s">심각한 문제</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>DEBUG:root:틀렸습니다
INFO:root:확인해주세요
WARNING:root:주의해주세요
ERROR:root:에러입니다
CRITICAL:root:심각한 문제
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">logging</span>

<span class="k">if</span> <span class="n">__name__</span><span class="o">==</span><span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    
    <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="nf">getLogger</span><span class="p">(</span><span class="sh">"</span><span class="s">main</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">logging</span><span class="p">.</span><span class="nf">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="p">.</span><span class="n">DEBUG</span><span class="p">)</span> <span class="c1"># logging level을 DEBUG로 셋팅
</span>    <span class="n">logger</span><span class="p">.</span><span class="nf">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="p">.</span><span class="n">WARNING</span><span class="p">)</span> <span class="c1"># WARNING level 부터 log 출력
</span>    
    <span class="n">steam_handler</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="nc">FileHandler</span><span class="p">(</span><span class="sh">"</span><span class="s">my.log</span><span class="sh">"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="sh">"</span><span class="s">utf8</span><span class="sh">"</span><span class="p">)</span> <span class="c1"># my.log 라는 파일에 로그내용 추가
</span>    <span class="n">logger</span><span class="p">.</span><span class="nf">addHandler</span><span class="p">(</span><span class="n">steam_handler</span><span class="p">)</span>

    <span class="n">logger</span><span class="p">.</span><span class="nf">debug</span><span class="p">(</span><span class="sh">"</span><span class="s">틀렸습니다</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="sh">"</span><span class="s">확인해주세요</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">warning</span><span class="p">(</span><span class="sh">"</span><span class="s">주의해주세요</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="sh">"</span><span class="s">에러입니다</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">logger</span><span class="p">.</span><span class="nf">critical</span><span class="p">(</span><span class="sh">"</span><span class="s">심각한 문제</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>WARNING:main:주의해주세요
ERROR:main:에러입니다
CRITICAL:main:심각한 문제
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<h2 id="logging을-위한-사전-셋팅">Logging을 위한 사전 셋팅</h2>

<ul>
  <li>실제 프로그램을 실행할 땐 여러가지 설정이 필요</li>
  <li>데이터 파일의 위치, 파일 저장 장소, Operation Type 같은 정보를 설정 해줄 방법이 필요</li>
</ul>

<h3 id="configparser">Configparser</h3>

<ul>
  <li>프로그램의 실행 설정을 file에 저장함</li>
  <li>section, key, value 값의 형태로 설정된 설정 파일을 사용</li>
  <li>
    <p>설정파일을 Dict type으로 호출후 사용</p>
  </li>
  <li>example.cfg</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>[SectionOne]
Status: Single
Name: Derek
Value: Yes
Age: 30
Single: True

[SectionTwo]
FavoriteColor = Green
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">configparser</span>

<span class="n">config</span> <span class="o">=</span> <span class="n">configparser</span><span class="p">.</span><span class="nc">ConfigParser</span><span class="p">()</span>
<span class="n">config</span><span class="p">.</span><span class="nf">sections</span><span class="p">()</span>

<span class="n">config</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="sh">"</span><span class="s">example.cfg</span><span class="sh">"</span><span class="p">)</span>
<span class="n">config</span><span class="p">.</span><span class="nf">sections</span><span class="p">()</span>

<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">SectionOne</span><span class="sh">"</span><span class="p">]:</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">SectionOne</span><span class="sh">"</span><span class="p">][</span><span class="n">key</span><span class="p">]</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    
<span class="n">config</span><span class="p">[</span><span class="sh">"</span><span class="s">SectionOne</span><span class="sh">"</span><span class="p">][</span><span class="sh">"</span><span class="s">status</span><span class="sh">"</span><span class="p">]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>status Single
name Derek
value Yes
age 30
single True
'Single'
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="argparser">Argparser</h3>

<ul>
  <li>console 창에서 프로그램 실행시 Setting 정보를 저장함</li>
  <li>거의 모든 console 기반 파이썬 프로그램 기본으로 제공</li>
  <li>특수 모듈도 많이 존재하지만, 일반적으로 argparser 사용</li>
  <li>
    <p>Command Line Option 이라고 부름</p>
  </li>
  <li>콘솔에서 특정 argument에 따라 특정 옵션을 주는 것을 볼 수 있음</li>
</ul>

<p><img src="https://user-images.githubusercontent.com/120040458/222886015-e0fd4d95-df3c-4152-9252-89aa293413d5.PNG" alt="argparser1" /></p>

<h4 id="arg_sumpy">arg_sum.py</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">argparse</span>

<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">sum two integers</span><span class="sh">"</span><span class="p">)</span>

<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span>
    <span class="sh">"</span><span class="s">-a</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">--a_value</span><span class="sh">"</span><span class="p">,</span>
    <span class="n">dest</span><span class="o">=</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">A integer</span><span class="sh">"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
    <span class="n">required</span><span class="o">=</span><span class="bp">True</span>
<span class="p">)</span>

<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span> 
    <span class="sh">"</span><span class="s">-b</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">--b_value</span><span class="sh">"</span><span class="p">,</span>  <span class="c1"># 짧은 이름, 긴 이름
</span>    <span class="n">dest</span><span class="o">=</span><span class="sh">"</span><span class="s">b</span><span class="sh">"</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">"</span><span class="s">B integer</span><span class="sh">"</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="c1"># 표시명, 설명, argument type
</span>    <span class="n">required</span><span class="o">=</span><span class="bp">True</span>
<span class="p">)</span>

<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="p">.</span><span class="nf">parse_args</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">a</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">b</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">args</span><span class="p">.</span><span class="n">a</span><span class="o">+</span><span class="n">args</span><span class="p">.</span><span class="n">b</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><img src="https://user-images.githubusercontent.com/120040458/222886703-e43f0d9d-02c3-431d-a8dc-67b4d1ecbb97.PNG" alt="argparser2" /></p>

<h4 id="argparser-example">argparser example</h4>

<ul>
  <li>사용자가 미리 설정을 만들어서 실험이 가능함</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="p">.</span><span class="nc">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="sh">'</span><span class="s">PyTorch MNIST Example</span><span class="sh">'</span><span class="p">)</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">--batch-size</span><span class="sh">'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="sh">'</span><span class="s">N</span><span class="sh">'</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">input batch size for training (default: 64)</span><span class="sh">'</span><span class="p">)</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">--test-batch-size</span><span class="sh">'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="sh">'</span><span class="s">N</span><span class="sh">'</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">input batch size for testing (default: 1000)</span><span class="sh">'</span><span class="p">)</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">--epochs</span><span class="sh">'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="sh">'</span><span class="s">N</span><span class="sh">'</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">number of epochs to train (default: 10)</span><span class="sh">'</span><span class="p">)</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">--lr</span><span class="sh">'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">fl0at</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="sh">'</span><span class="s">LR</span><span class="sh">'</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">learning rate (default: 0.01 )</span><span class="sh">'</span><span class="p">)</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">--momentum</span><span class="sh">'</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="n">fl0at</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">metavar</span><span class="o">=</span><span class="sh">'</span><span class="s">M</span><span class="sh">'</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">SGD momentum (default: O.5)</span><span class="sh">'</span><span class="p">)</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="sh">'</span><span class="s">--no-cuda</span><span class="sh">'</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="sh">'</span><span class="s">store_true</span><span class="sh">'</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sh">'</span><span class="s">disables CUDA training</span><span class="sh">'</span><span class="p">)</span>
<span class="n">parser</span><span class="p">.</span><span class="nf">add_argument</span><span class="p">(</span><span class="err">‘</span><span class="o">--</span><span class="n">seed</span><span class="sh">'</span><span class="s">, type=int, default=1, metavar=</span><span class="sh">'</span><span class="n">S</span><span class="sh">'</span><span class="s">, help=</span><span class="sh">'</span><span class="n">random</span> <span class="nf">seed </span><span class="p">(</span><span class="n">default</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span><span class="sh">'</span><span class="s">)
parser.add_argument(</span><span class="sh">'</span><span class="o">--</span><span class="n">save</span><span class="o">-</span><span class="n">model</span><span class="sh">'</span><span class="s">, action=</span><span class="sh">'</span><span class="n">store_true</span><span class="sh">'</span><span class="s">, default=False, help=</span><span class="sh">'</span><span class="n">For</span> <span class="n">Saving</span> <span class="n">the</span> <span class="n">current</span> <span class="n">Model</span><span class="sh">'</span><span class="s">)
args = parser.parse_args()

if _name_ == </span><span class="sh">'</span><span class="n">_main_</span><span class="sh">'</span><span class="s">:
main()
</span></pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<h2 id="logging-적용하기">Logging 적용하기</h2>

<h3 id="logging-formatter">Logging formatter</h3>

<ul>
  <li>Log의 결과값의 format을 지정해줄 수 있음</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">logging</span>

<span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="p">.</span><span class="nc">Formatter</span><span class="p">(</span><span class="sh">"</span><span class="s">%(asctime)s %(levelname)s %(process)d %(message)s</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>2018-01-18 22:47:04,385 ERROR 4410 ERROR occurred
2018-01-18 22:47:22,458 ERROR 4439 ERROR occurred
2018-01-18 22:47:22,458 INFO 4439 HERE WE ARE
2018-01-18 22:47:24,680 ERROR 4443 ERROR occurred
2018-01-18 22:47:24,681 INFO 4443 HERE WE ARE
2018-01-18 22:47:24,970 ERROR 4445 ERROR occurred
2018-01-18 22:47:24,970 INFO 4445 HERE WE ARE
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="log-config-file">Log config file</h3>

<h4 id="loggingconf">logging.conf</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td><td class="rouge-code"><pre>[loggers]
keys=root

[handlers]
keys=consoleHandler

[formatters]
keys=simpleFormatter

[logger_root]
level=DEBUG
handlers=consoleHandler

[handler_consoleHandler]
class=StreamHandler
level=DEBUG
formatter=simpleFormatter
args=(sys.stdout,)

[formatter_simpleFormatter]
format=%(asctime)s - %(levelname)s - %(process)d - %(message)s
datefmt=%m/%d/%Y %I:%M:%S %p
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">logging</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="nf">fileConfig</span><span class="p">(</span><span class="sh">"</span><span class="s">logging.conf</span><span class="sh">"</span><span class="p">)</span>
<span class="n">logger</span><span class="o">=</span><span class="n">logging</span><span class="p">.</span><span class="nf">getLogger</span><span class="p">()</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="참고">참고</h2>

<hr />

<ol>
  <li><a href="https://www.boostcourse.org/ai222">boostcourse - 머신러닝을 위한 파이썬</a></li>
  <li><a href="https://docs.python.org/3/">Python documentation</a></li>
</ol>

            </div>

            <!-- Rating -->
            

            <!-- Post Date -->
            <p>
            <small>
                <span class="post-date"><time class="post-date" datetime="2022-09-08">08 Sep 2022</time></span>           
                
                </small>
            </p>

            <!-- Post Categories -->
            <div class="after-post-cats">
                <ul class="tags mb-4">
                    
                    
                    <li>
                        <a class="smoothscroll" href="/categories#Python">Python</a>
                    </li>
                    
                </ul>
            </div>
            <!-- End Categories -->

            <!-- Post Tags -->
            <div class="after-post-tags">
                <ul class="tags">
                    
                    
                </ul>
            </div>
            <!-- End Tags -->

            <!-- Prev/Next -->
            <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
            
            <a class="prev d-block col-md-6" href="//python_7/"> &laquo; Python - 7(Python Package)</a>
            
            
            <a class="next d-block col-md-6 text-lg-right" href="//numpyintro-1/">Numpy - 1(Introduction) &raquo; </a>
            
            <div class="clearfix"></div>
            </div>
            <!-- End Categories -->

        </div>
        <!-- End Post -->

    </div>
</div>
<!-- End Article
================================================== -->

<!-- Begin Comments
================================================== -->

    <div class="container">
        <div id="comments" class="row justify-content-center mb-5">
            <div class="col-md-8">
                <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'roadtoml'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>

            </div>
        </div>
    </div>

<!--End Comments
================================================== -->

<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->

</div>


<!-- Bottom Alert Bar
================================================== -->
<div class="alertbar">
	<div class="container text-center">
		<span class="center-vertically"> <a href="https://github.com/seungki1011" target="_blank"><img src="../assets/images/github-mark.png" alt="Seungki1011's Dev Blog"><b class="bold-with-margin">&nbsp; My Github</b></a></span>
        <!-- <form action="" method="post" name="mc-embedded-subscribe-form" class="wj-contact-form validate" target="_blank" novalidate>
            <div class="mc-field-group">
            <input type="email" placeholder="Email" name="EMAIL" class="required email" id="mce-EMAIL" autocomplete="on" required>
            <input type="submit" value="Subscribe" name="subscribe" class="heart">
            </div>
        </form> -->
	</div>
</div>

    
</div>

<!-- Categories Jumbotron
================================================== -->
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-4 transpdark align-self-center text-center h-100">
            <div class="d-md-flex align-items-center justify-content-center h-100">
                <h2 class="d-md-block align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2>
            </div>
		</div>
		<div class="col-md-8 p-5 align-self-center text-center">
            
            
                
                    <a class="mt-1 mb-1" href="/categories#Python">Python (8)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Numpy">Numpy (7)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Pandas">Pandas (7)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Software-Engineering">Software Engineering (5)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Linux">Linux (3)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Docker">Docker (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#CV">CV (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Object-Detection">Object Detection (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Debugging">Debugging (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Segmentation">Segmentation (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Cloud">Cloud (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#CI/CD">CI/CD (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Backend">Backend (4)</a>
                
                    <a class="mt-1 mb-1" href="/categories#FastAPI">FastAPI (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#DB">DB (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Data">Data (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Airflow">Airflow (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Mlops">Mlops (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#MLflow">MLflow (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#MLops">MLops (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#BentoML">BentoML (1)</a>
                
            
            
		</div>
	</div>
</div>

<!-- Begin Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                Copyright © 2023 Seungki1011's Dev Blog 
            </div>
            <div class="col-md-6 col-sm-6 text-center text-lg-right">    
                <a target="_blank" href="https://www.wowthemes.net/mediumish-free-jekyll-template/">Mediumish Jekyll Theme</a> by WowThemes.net
            </div>
        </div>
    </div>
</footer>
<!-- End Footer
================================================== -->

</div> <!-- /.site-content -->

<!-- Scripts
================================================== -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

<script src="/assets/js/mediumish.js"></script>



<script src="/assets/js/ie10-viewport-bug-workaround.js"></script> 


<script id="dsq-count-scr" src="//roadtoml.disqus.com/count.js"></script>


</body>
</html>
